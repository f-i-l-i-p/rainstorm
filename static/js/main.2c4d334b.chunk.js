(this.webpackJsonprainstorm=this.webpackJsonprainstorm||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){},211:function(e,t,n){var r={"./clear_sky_day.svg":212,"./clear_sky_night.svg":213,"./cloudy.svg":214,"./fog.svg":215,"./half_clear_sky_day.svg":216,"./half_clear_sky_night.svg":217,"./heavy_rain.svg":218,"./heavy_sleet.svg":219,"./light_rain.svg":220,"./light_sleet.svg":221,"./moderate_rain.svg":222,"./moderate_sleet.svg":223,"./nearly_clear_sky_day.svg":224,"./nearly_clear_sky_night.svg":225,"./overcast.svg":226,"./snow.svg":227,"./sunrise.svg":228,"./sunset.svg":229,"./thunder.svg":230,"./unknown.svg":231};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=211},212:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/clear_sky_day.08d2252c.svg"},213:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/clear_sky_night.529a641f.svg"},214:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cloudy.b1731609.svg"},215:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/fog.fdf19a8b.svg"},216:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/half_clear_sky_day.89d8c1b7.svg"},217:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/half_clear_sky_night.75572318.svg"},218:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/heavy_rain.3366fbb7.svg"},219:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/heavy_sleet.fa0fb9d8.svg"},220:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/light_rain.920a6452.svg"},221:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/light_sleet.ae8a3066.svg"},222:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/moderate_rain.2a623bba.svg"},223:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/moderate_sleet.7758da5c.svg"},224:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/nearly_clear_sky_day.36e650c9.svg"},225:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/nearly_clear_sky_night.e9c1247d.svg"},226:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/overcast.a2822c8c.svg"},227:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/snow.9758315a.svg"},228:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/sunrise.d0648585.svg"},229:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/sunset.0a78d069.svg"},230:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/thunder.31fc6f06.svg"},231:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/unknown.791c8f32.svg"},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n.n(r),s=(n(131),n(132),n(25)),o=n(26),i=n(29),c=n(28),u=n(0),l=n.n(u),d=(n(133),n(134),n(4)),h=function(e){return Object(d.jsx)("div",{className:"paper",style:e.style,children:e.children})},p=n(250),m=(n(136),n(32)),f=p.a.Text;var v=Object(m.b)((function(e){return{showGust:e.settings.showGust,showMinMaxTemp:e.settings.showMinMaxTemp}}))((function(e){return Object(d.jsx)("div",{className:"weather_cell",children:void 0!==e.weather&&Object(d.jsxs)(l.a.Fragment,{children:[isNaN(e.weather.temperature)?Object(d.jsx)(f,{children:" "}):!e.showMinMaxTemp||isNaN(e.weather.temperatureMin)||isNaN(e.weather.temperatureMax)?Object(d.jsxs)(f,{strong:!0,children:[Math.round(e.weather.temperature)," \xb0C"]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{strong:!0,className:"minimum",children:Math.round(e.weather.temperatureMin)}),Object(d.jsx)(f,{type:"secondary",style:{marginLeft:"1px",marginRight:"1px"},children:"/"}),Object(d.jsx)(f,{strong:!0,className:"maximum",children:Math.round(e.weather.temperatureMax)}),Object(d.jsx)(f,{strong:!0,children:" \xb0C"})]}),e.weather.symbol&&Object(d.jsx)("img",{className:"weather_symbol",alt:"",src:n(211)("./"+e.weather.symbol+".svg").default}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:isNaN(e.weather.wind)?Object(d.jsx)(f,{children:" "}):e.showGust&&!isNaN(e.weather.gust)?Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsx)(f,{type:"secondary",children:Math.round(e.weather.wind)}),Object(d.jsx)(f,{className:"maximum",type:"secondary",style:{marginLeft:"1px",marginRight:"1px"},children:"("+Math.round(e.weather.gust)+")"}),Object(d.jsx)(f,{type:"secondary",children:"m/s"})]}):Object(d.jsxs)(f,{type:"secondary",children:[Math.round(e.weather.wind)," m/s"]})}),isNaN(e.weather.precipitation)?Object(d.jsx)("div",{children:Object(d.jsx)(f,{children:" "})}):Object(d.jsx)(f,{type:"secondary",children:e.weather.precipitation+" "+e.weather.precipitationUnit})]})]})})})),g=n(247),j=(n(232),p.a.Text),b=function(e){return Object(d.jsx)("div",{className:"time_cell",children:Object(d.jsx)(j,{strong:!0,children:e.time})})},y=(n(233),p.a.Title),w=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(y,{level:4,children:this.props.name}),Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"right-column",children:Object(d.jsx)("div",{className:"time-row",style:{width:"100%"},children:Object(d.jsx)(h,{style:{width:"100%",height:"100%"}})})}),Object(d.jsxs)("div",{className:"all-columns",children:[Object(d.jsx)("div",{className:"time-row"}),this.props.providers.map((function(e,t){return Object(d.jsx)("div",{className:"weather-row",children:Object(d.jsx)(h,{style:{width:"100%",height:"100%"}})},t)}))]}),Object(d.jsxs)("div",{className:"left-column",children:[Object(d.jsx)("div",{className:"time-row"}),this.props.providers.map((function(e,t){return Object(d.jsx)("div",{className:"weather-row",children:Object(d.jsx)(p.a,{className:"weather-provider-name",children:e})},t)}))]}),Object(d.jsxs)("div",{className:"divider-column",children:[Object(d.jsx)("div",{className:"time-row"}),this.props.providers.map((function(e,t){return Object(d.jsx)("div",{className:"weather-row",children:Object(d.jsx)(g.a,{type:"vertical",style:{height:"calc(100% - 5px)",margin:0}})},t)}))]}),Object(d.jsxs)("div",{className:"right-column",style:{overflowX:"auto"},children:[Object(d.jsx)("div",{className:"time-row",style:{justifyContent:"space-around"},children:this.props.tableData.map((function(e,t){return Object(d.jsx)(b,{time:O(e)},t)}))}),this.props.providers.map((function(t,n){return Object(d.jsx)("div",{className:"weather-row",style:{justifyContent:"space-around"},children:e.props.tableData.map((function(e,n){return Object(d.jsx)(v,{weather:e.weather[t]},n)}))},n)}))]})]})]})}}]),n}(l.a.Component);function O(e){var t=e;return t.date?("0"+t.date.getHours()).slice(-2):t.startDate&&t.endDate?("0"+t.startDate.getHours()).slice(-2)+"\u2014"+("0"+t.endDate.getHours()).slice(-2):""}var x=w,_=(p.a.Text,function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getTableName",value:function(e,t){var n="";if(!t)return n;switch(n=0===e?"Idag, ":"",t.getDay()){case 1:n+="M\xe5ndag";break;case 2:n+="Tisdag";break;case 3:n+="Onsdag";break;case 4:n+="Torsdag";break;case 5:n+="Fredag";break;case 6:n+="L\xf6rdag";break;case 0:n+="S\xf6ndag"}return n}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.props.forecast.days.length-1;n+=2)t.push([this.props.forecast.days[n],this.props.forecast.days[n+1]]);return Object(d.jsxs)("div",{className:"list",children:[Object(d.jsx)(x,{tableData:this.props.forecast.hours,providers:this.props.forecast.providers,name:this.getTableName(0,this.props.forecast.hours[0].date)}),t.map((function(t,n){return Object(d.jsx)("div",{className:"weather-table-pair",children:t.map((function(t,r){return Object(d.jsx)(x,{tableData:t.spans,providers:e.props.forecast.providers,name:e.getTableName(n+r+1,t.spans[0].startDate)},r)}))},n)}))]})}}]),n}(l.a.Component));var k,S=Object(m.b)((function(e){return{forecast:e.forecasts.forecast,isLoading:e.forecasts.isLoading,selectedLocation:e.locationSearch.selectedLocation}}))(_),N=n(13),T=n(251),L=n(121),D=n(248),E=n(125),C=n(16),M=n.n(C),U=n(24),R=n(117),F=0;function I(e,t){var n=e.trim();if(n!==k){if(k=n,""===n)return t.onSuccess([]),void F++;var r=++F;setTimeout((function(){return function(e,t,n){return B.apply(this,arguments)}(r,n,t)}),500)}}function A(e){return e!==F}function W(e){return P.apply(this,arguments)}function P(){return(P=Object(U.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pk.4b179e38c5f1f5a80ad572c3bb3c0309","https://api.locationiq.com/v1/autocomplete.php",e.abrupt("return",fetch("".concat("https://api.locationiq.com/v1/autocomplete.php","?key=").concat("pk.4b179e38c5f1f5a80ad572c3bb3c0309","&q=").concat(t,"&viewbox=3,44,32,71&limit=20&dedupe=1&accept-language=sv")));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){var t,n=[],r=Object(R.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push({country:a.display_address,name:a.display_place,lat:Number(a.lat),long:Number(a.lon),alt:0})}}catch(s){r.e(s)}finally{r.f()}return n}function B(){return(B=Object(U.a)(M.a.mark((function e(t,n,r){var a,s,o,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W(n);case 4:if(a=e.sent,!A(t)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.json();case 9:if(s=e.sent,!A(t)){e.next=12;break}return e.abrupt("return");case 12:a.ok?(o=G(s),r.onSuccess(o)):"Unable to geocode"===s.error?(i=[],r.onSuccess(i)):(console.warn("Geocode response error!",a.statusText),r.onAbort());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V="SELECT_LOCATION",H="SELECT_USER_LOCATION",z="GEOCODE_START",J="GEOCODE_SUCCESS",q="GEOCODE_FAILURE",X="LOCATE_USER_START",Y="LOCATE_USER_SUCCESS",K="LOCATE_USER_FAILURE";function $(e){navigator.geolocation.getCurrentPosition((function(t){return function(e,t){return Q.apply(this,arguments)}(t.coords,e)}),(function(e){}))}function Q(){return(Q=Object(U.a)(M.a.mark((function e(t,n){var r,a,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t.latitude,t.longitude);case 2:if((r=e.sent).ok){e.next=6;break}return n.onError(),e.abrupt("return");case 6:return e.next=8,r.json();case 8:a=e.sent,(s=te(a)).alt=t.altitude||NaN,n.onSuccess(s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(U.a)(M.a.mark((function e(t,n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pk.4b179e38c5f1f5a80ad572c3bb3c0309","https://eu1.locationiq.com/v1/reverse.php",e.abrupt("return",fetch("".concat("https://eu1.locationiq.com/v1/reverse.php","?key=").concat("pk.4b179e38c5f1f5a80ad572c3bb3c0309","&lat=").concat(t,"&lon=").concat(n,"&format=json&accept-language=sv")));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return{country:"Fr\xe5n din position",name:e.address.city||e.address.municipality||e.address.county||e.address.country,lat:e.lat,long:e.lon,alt:NaN}}function ne(e){return{type:q,errorMessage:e}}function re(e){return{type:Y,location:e}}n(234);var ae,se=p.a.Text,oe=function(e){return Object(d.jsxs)("button",{className:"location-list-item",onClick:function(){return e.onSelect(e.location)},children:[Object(d.jsx)(se,{strong:!0,children:e.location.name}),Object(d.jsx)(se,{type:"secondary",children:e.location.country})]})},ie="FORECAST_FETCH_START",ce="FORECAST_FETCH_SUCCESS",ue="FORECAST_FETCH_FAILURE";function le(e){var t=new Date;return t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),he(t,36e5,e)}function de(e){var t=new Date;return t.setDate(t.getDate()+1),he(t,864e5,e)}function he(e,t,n){for(var r=[],a=0;a<n;a++)r.push(new Date(e.getTime()+a*t));return r}function pe(e){var t=new Date;return{sunTimes:{sunrise:new Date,sunset:new Date},hours:le(24).map((function(e){return{date:e,weather:me()}})),days:(t,de(8).map((function(e,t){var n=e.getUTCFullYear(),r=e.getUTCMonth(),a=e.getUTCDate();return{spans:t<=4?[{startDate:new Date(Date.UTC(n,r,a,0)),endDate:new Date(Date.UTC(n,r,a,6)),weather:me()},{startDate:new Date(Date.UTC(n,r,a,6)),endDate:new Date(Date.UTC(n,r,a,12)),weather:me()},{startDate:new Date(Date.UTC(n,r,a,12)),endDate:new Date(Date.UTC(n,r,a,18)),weather:me()},{startDate:new Date(Date.UTC(n,r,a,18)),endDate:new Date(Date.UTC(n,r,a,24)),weather:me()}]:[{startDate:new Date(Date.UTC(n,r,a,0)),endDate:new Date(Date.UTC(n,r,a,12)),weather:me()},{startDate:new Date(Date.UTC(n,r,a,12)),endDate:new Date(Date.UTC(n,r,a,24)),weather:me()}]}}))),providers:Se(),location:e||{country:"",name:"",lat:NaN,long:NaN,alt:NaN}}}function me(){var e={};return Se().forEach((function(t){e[t]={temperature:NaN,temperatureMax:NaN,temperatureMin:NaN,wind:NaN,gust:NaN,precipitation:NaN,precipitationUnit:"",symbol:ae.unknown}})),e}function fe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(U.a)(M.a.mark((function e(t,n){var r,a,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.met.no/weatherapi/sunrise/2.0/.json",r=(new Date).toISOString().split("T")[0],a="https://api.met.no/weatherapi/sunrise/2.0/.json?lat="+t.lat+"&lon="+t.long+"&date="+r+"&offset=00:00",e.next=5,fetch(a);case 5:if(!(s=e.sent).ok){e.next=15;break}return e.t0=ge,e.next=10,s.json();case 10:e.t1=e.sent,e.t2=n,(0,e.t0)(e.t1,e.t2),e.next=16;break;case 15:n.onError(new Error);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){try{var n={sunrise:new Date(e.location.time[0].sunrise.time),sunset:new Date(e.location.time[0].sunset.time)};t.onSuccess(n)}catch(r){t.onError(r)}}function je(e,t){var n=we(e),r=we(t.sunrise),a=we(t.sunset);return r>n||n>a}function be(e,t,n){return je(new Date((e.getTime()+t.getTime())/2),n)}function ye(e){switch(e){case ae.clear_sky_day:return ae.clear_sky_night;case ae.half_clear_sky_day:return ae.half_clear_sky_night;case ae.nearly_clear_sky_day:return ae.nearly_clear_sky_night}return e}function we(e){return 60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()+1e3*e.getMilliseconds()}!function(e){e.unknown="unknown",e.clear_sky_day="clear_sky_day",e.clear_sky_night="clear_sky_night",e.nearly_clear_sky_day="nearly_clear_sky_day",e.nearly_clear_sky_night="nearly_clear_sky_night",e.half_clear_sky_day="half_clear_sky_day",e.half_clear_sky_night="half_clear_sky_night",e.cloudy="cloudy",e.light_rain="light_rain",e.moderate_rain="moderate_rain",e.heavy_rain="heavy_rain",e.light_sleet="light_sleet",e.moderate_sleet="moderate_sleet",e.heavy_sleet="heavy_sleet",e.snow="snow",e.thunder="thunder",e.fog="fog"}(ae||(ae={}));var Oe=function(){function e(t){Object(s.a)(this,e),this.name=void 0,this.responseJson=void 0,this.name=t}return Object(o.a)(e,[{key:"canFillForecast",value:function(){return void 0!==this.responseJson}},{key:"fetchForecast",value:function(){var e=Object(U.a)(M.a.mark((function e(t,n,r){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestData(t.lat.toString(),t.long.toString());case 3:return a=e.sent,e.next=6,a.json();case 6:this.responseJson=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(0),this.responseJson=void 0,console.error(e.t0),r(e.t0),e.abrupt("return");case 15:n();case 16:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),xe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"Yr")).icons={clearsky:ae.clear_sky_day,cloudy:ae.cloudy,fair:ae.nearly_clear_sky_day,fog:ae.fog,heavyrain:ae.heavy_rain,heavyrainandthunder:ae.thunder,heavyrainshowers:ae.heavy_rain,heavyrainshowersandthunder:ae.thunder,heavysleet:ae.heavy_sleet,heavysleetandthunder:ae.thunder,heavysleetshowers:ae.heavy_sleet,heavysleetshowersandthunder:ae.thunder,heavysnow:ae.snow,heavysnowandthunder:ae.thunder,heavysnowshowers:ae.snow,heavysnowshowersandthunder:ae.thunder,lightrain:ae.light_rain,lightrainandthunder:ae.thunder,lightrainshowers:ae.light_rain,lightrainshowersandthunder:ae.thunder,lightsleet:ae.light_sleet,lightsleetandthunder:ae.thunder,lightsleetshowers:ae.light_sleet,lightsnow:ae.snow,lightsnowandthunder:ae.thunder,lightsnowshowers:ae.snow,lightssleetshowersandthunder:ae.thunder,lightssnowshowersandthunder:ae.thunder,partlycloudy:ae.half_clear_sky_day,rain:ae.moderate_rain,rainandthunder:ae.thunder,rainshowers:ae.moderate_rain,rainshowersandthunder:ae.thunder,sleet:ae.moderate_sleet,sleetandthunder:ae.thunder,sleetshowers:ae.moderate_sleet,sleetshowersandthunder:ae.thunder,snow:ae.snow,snowandthunder:ae.thunder,snowshowers:ae.snow,snowshowersandthunder:ae.thunder},e}return Object(o.a)(n,[{key:"requestData",value:function(){var e=Object(U.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.met.no/weatherapi/locationforecast/2.0/complete?lat="+t+"&lon="+n);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Weather response error! status: "+r.status);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fillForecast",value:function(e){for(var t=this.responseJson.properties.timeseries,n=0,r=0;n<e.hours.length&&r<t.length;){var a=t[r],s=new Date(a.time);if(e.hours[n].date<s)n++;else if(e.hours[n].date>s)r++;else{var o=e.hours[n].weather[this.name],i=void 0,c=void 0;if(a.data.next_1_hours)i=a.data.next_1_hours.summary.symbol_code,c=a.data.next_1_hours.details.precipitation_amount;else if(a.data.next_6_hours)i=a.data.next_6_hours.summary.symbol_code,c=a.data.next_6_hours.details.precipitation_amount;else{if(!a.data.next_12_hours)continue;i=a.data.next_12_hours.summary.symbol_code,c=a.data.next_12_hours.details.precipitation_amount}i=i.split("_")[0];var u=this.icons[i]||ae.unknown;je(s,e.sunTimes)&&(u=ye(u)),u===ae.unknown&&console.warn("Unknown symbol",i),o.temperature=a.data.instant.details.air_temperature,o.wind=a.data.instant.details.wind_speed,o.gust=a.data.instant.details.wind_speed_of_gust,o.precipitation=c,o.precipitationUnit="mm",o.symbol=u,r++,n++}}r=0;for(var l=0;l<e.days.length;l++)for(var d=e.days[l],h=0;h<d.spans.length&&!(r>=t.length);h++){var p=d.spans[h],m=t[r],f=new Date(m.time);if(!(p.startDate<f))if(p.startDate>f)r++,h--;else{var v=p.weather[this.name],g=(p.endDate.getTime()-p.startDate.getTime())/36e5,j=void 0,b=void 0,y=void 0,w=void 0;if(6===g)j=m.data.next_6_hours.summary.symbol_code,b=m.data.next_6_hours.details.precipitation_amount,y=m.data.next_6_hours.details.air_temperature_min,w=m.data.next_6_hours.details.air_temperature_max;else{if(12!==g){console.warn("Unknown span length",g),r++;continue}var O=t[r+1];j=m.data.next_12_hours.summary.symbol_code;var x=m.data.next_6_hours.details.precipitation_amount,_=O.data.next_6_hours.details.precipitation_amount;b=Math.round((x+_)/12*10)/10,y=Math.min(m.data.next_6_hours.details.air_temperature_min,O.data.next_6_hours.details.air_temperature_min),w=Math.max(m.data.next_6_hours.details.air_temperature_max,O.data.next_6_hours.details.air_temperature_max)}j=j.split("_")[0];var k=this.icons[j]||ae.unknown;be(p.startDate,p.endDate,e.sunTimes)&&(k=ye(k)),k===ae.unknown&&console.warn("Unknown symbol",j),v.temperature=(w+y)/2,v.temperatureMax=w,v.temperatureMin=y,v.wind=m.data.instant.details.wind_speed,v.gust=m.data.instant.details.wind_speed_of_gust,v.precipitation=b,v.precipitationUnit="mm",v.symbol=k,r++}}}}]),n}(Oe),_e=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"SMHI")).icons={1:ae.clear_sky_day,2:ae.nearly_clear_sky_day,3:ae.half_clear_sky_day,4:ae.half_clear_sky_day,5:ae.cloudy,6:ae.cloudy,7:ae.fog,8:ae.light_rain,9:ae.moderate_rain,10:ae.heavy_rain,11:ae.thunder,12:ae.light_sleet,13:ae.moderate_sleet,14:ae.heavy_sleet,15:ae.snow,16:ae.snow,17:ae.snow,18:ae.light_rain,19:ae.moderate_rain,20:ae.heavy_rain,21:ae.thunder,22:ae.light_sleet,23:ae.moderate_sleet,24:ae.heavy_sleet,25:ae.snow,26:ae.snow,27:ae.snow},e}return Object(o.a)(n,[{key:"getIcon",value:function(e){var t=this.icons[e];return t||(console.warn("Unknown symbol value",e),ae.unknown)}},{key:"requestData",value:function(){var e=Object(U.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 9,e.next=3,fetch("https://opendata-download-metfcst.smhi.se/api/category/pmp3g/version/2/geotype/point/lon/"+n.substr(0,9)+"/lat/"+t.substr(0,9)+"/data.json");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Weather response error! status: ' + result.status");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fillForecast",value:function(e){for(var t=this.responseJson.timeSeries,n=0,r=0;n<e.hours.length&&r<t.length;){var a=t[r],s=new Date(a.validTime);if(e.hours[n].date<s)n++;else if(e.hours[n].date>s)r++;else{var o=a.parameters,i=e.hours[n].weather[this.name];i.temperature=o.find((function(e){return"t"===e.name})).values[0],i.precipitation=o.find((function(e){return"pmean"===e.name})).values[0],i.precipitationUnit="mm",i.wind=o.find((function(e){return"ws"===e.name})).values[0],i.gust=o.find((function(e){return"gust"===e.name})).values[0],i.symbol=this.getIcon(o.find((function(e){return"Wsymb2"===e.name})).values[0]),je(s,e.sunTimes)&&(i.symbol=ye(i.symbol)),n++,r++}}r=0;for(var c=0;c<e.days.length;c++)for(var u=e.days[c],l=0;l<u.spans.length;l++){var d=u.spans[l],h=t[r],p=new Date(h.validTime);if(!(d.startDate<p))if(d.startDate>p)r++,l--;else{var m=d.weather[this.name],f=new Date((d.startDate.getTime()+d.endDate.getTime())/2);r=this.sumWeather(t,r,d.endDate,f,m,e.sunTimes)}}}},{key:"sumWeather",value:function(e,t,n,r,a,s){for(var o=t,i=0,c=NaN,u=NaN,l=0,d=0,h={};o<e.length;){var p=e[o];if(new Date(p.validTime)>n){o--;break}var m=p.parameters;i+=m.find((function(e){return"pmean"===e.name})).values[0];var f=m.find((function(e){return"t"===e.name})).values[0];(isNaN(c)||f<c)&&(c=f),(isNaN(u)||f>u)&&(u=f);var v=m.find((function(e){return"ws"===e.name})).values[0];v>l&&(l=v);var g=m.find((function(e){return"gust"===e.name})).values[0];g>d&&(d=g);var j=m.find((function(e){return"Wsymb2"===e.name})).values[0];j in h?h[j]+=1:h[j]=1,o++}a.precipitation=Math.round(10*i)/10,a.precipitationUnit="mm",a.temperatureMax=u,a.temperatureMin=c,a.temperature=(u+c)/2,a.wind=l,a.gust=d;var b=0,y="";for(var w in h){var O=h[w];O>b&&(b=O,y=w)}return a.symbol=this.getIcon(y),be(new Date(e[t].validTime),n,s)&&(a.symbol=ye(a.symbol)),o}}]),n}(Oe),ke=[new _e,new xe];function Se(){return ke.map((function(e){return e.name}))}function Ne(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(U.a)(M.a.mark((function e(t,n){var r,a,s,o,i,c,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=pe(t),a=!1,o=ke.length,i=[],c=function(e){a?(e.canFillForecast()&&e.fillForecast(r,s),0===--o&&n.onSuccess(r)):i.push(e)},u=function(e){s=e,a=!0,r.sunTimes=e,i.forEach((function(e){c(e)}))},fe(t,{onSuccess:function(e){u(e)},onError:function(e){u({sunrise:new Date,sunset:new Date})}}),ke.forEach((function(e){e.fetchForecast(t,(function(){c(e)}),(function(t){c(e)}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return{type:ce,forecast:e}}var De=function(e){return function(){var t=Object(U.a)(M.a.mark((function t(n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={onSuccess:function(e){return n(Le(e))}},n({type:ie}),Ne(e,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=(n(235),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"onLocationSelect",value:function(e){var t;e.country!==(null===(t=this.props.selectedLocation)||void 0===t?void 0:t.country)&&(this.props.selectLocation(e),this.props.fetchForecasts(e)),this.props.onSelect()}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"location-list",children:[this.props.showUserLocation&&this.props.userLocation&&Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsx)(oe,{location:this.props.userLocation,onSelect:function(t){return e.onLocationSelect(t)}}),Object(d.jsx)(g.a,{style:{margin:0}})]}),this.props.locationResults.map((function(t,n){return Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsx)(oe,{location:t,onSelect:function(t){return e.onLocationSelect(t)}}),Object(d.jsx)(g.a,{style:{margin:0}})]},n)}))]})}}]),n}(l.a.Component));var Ce=Object(m.b)((function(e){return{userLocation:e.locationSearch.userLocation,locationResults:e.locationSearch.geocodeResults,selectedLocation:e.locationSearch.selectedLocation}}),(function(e){return{selectLocation:function(t){return e(function(e){return{type:V,location:e}}(t))},fetchForecasts:function(t){return e(De(t))}}}))(Ee),Me=(n(236),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={showUserPosition:!0},r}return Object(o.a)(n,[{key:"onChange",value:function(e){this.props.searchLocations(e);var t=0==e.length;t!==this.state.showUserPosition&&this.setState(Object(N.a)(Object(N.a)({},this.state),{},{showUserPosition:t}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)(T.a,{className:"search-input",size:"large",bordered:!1,placeholder:"S\xf6k",autoFocus:!0,allowClear:!0,prefix:Object(d.jsx)(E.a,{}),onChange:function(t){return e.onChange(t.target.value)}}),Object(d.jsx)(L.a,{className:"search-cancel-button",size:"large",ghost:!0,onClick:function(){return e.props.close()},children:"Avbryt"})]}),Object(d.jsx)(g.a,{style:{margin:0}}),this.props.isLoading?Object(d.jsx)(D.a,{className:"location-search-spin"}):Object(d.jsx)(Ce,{onSelect:function(){return e.props.close()},showUserLocation:this.state.showUserPosition})]})}}]),n}(l.a.Component));var Ue=Object(m.b)((function(e){return{isLoading:e.locationSearch.geocodeIsLoading}}),(function(e){return{searchLocations:function(t){return e((n=t,function(){var e=Object(U.a)(M.a.mark((function e(t){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={onSuccess:function(e){return t({type:J,results:e})},onAbort:function(){return t(ne(""))}},t({type:z}),I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}}))(Me),Re=n(255),Fe=(n(242),n(243),n(244),p.a.Title),Ie=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"header-container",children:[Object(d.jsxs)("div",{className:"header-grid",children:[Object(d.jsx)(Fe,{className:"header-title",level:5,children:this.props.title}),this.props.backButton&&Object(d.jsx)(L.a,{className:"header-back-button",onClick:function(){return e.props.backButton?e.props.backButton():{}},size:"large",ghost:!0,children:this.props.backButtonName})]}),Object(d.jsx)(g.a,{className:"header-divider"})]})}}]),n}(l.a.Component),Ae=n(252),We=n(253),Pe=n(254),Ge="UPDATE_THEME_MODE",Be="UPDATE_SYSTEM_THEME",Ve="UPDATE_SETTING";var He=p.a.Text,ze=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"onThemeChange",value:function(e){switch(e){case 1:this.props.updateThemeMode("light");break;case 2:this.props.updateThemeMode("dark");break;case 3:this.props.updateThemeMode("system")}}},{key:"render",value:function(){var e,t=this;switch(this.props.theme){case"light":e=1;break;case"dark":e=2;break;case"system":e=3}return Object(d.jsxs)("div",{className:"settings-page",children:[Object(d.jsx)(Ie,{title:"Inst\xe4llningar",backButton:function(){return t.props.close()},backButtonName:"Klar"}),Object(d.jsxs)("div",{className:"settings-content",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(He,{className:"settings-options-title",type:"secondary",strong:!0,children:"Utseende"}),Object(d.jsx)(g.a,{}),Object(d.jsx)(Ae.a.Group,{className:"settings-options",value:e,onChange:function(e){return t.onThemeChange(e.target.value)},children:Object(d.jsxs)(We.b,{direction:"vertical",children:[Object(d.jsx)(Ae.a,{value:1,children:"Ljust"}),Object(d.jsx)(g.a,{}),Object(d.jsx)(Ae.a,{value:2,children:"M\xf6rkt"}),Object(d.jsx)(g.a,{}),Object(d.jsx)(Ae.a,{value:3,children:"F\xf6lj System"})]})}),Object(d.jsx)(g.a,{}),Object(d.jsx)(He,{className:"settings-options-title",type:"secondary",strong:!0,children:"V\xe4der"}),Object(d.jsx)(g.a,{}),Object(d.jsx)("div",{className:"settings-options",children:Object(d.jsxs)(We.b,{direction:"vertical",children:[Object(d.jsxs)("div",{className:"settings-row",children:[Object(d.jsx)(He,{children:"Visa min/max temperatur"}),Object(d.jsx)(Pe.a,{checked:this.props.showMinMaxTemp,onChange:function(e){return t.props.updateSettings({showMinMaxTemp:e})}})]}),Object(d.jsx)(g.a,{}),Object(d.jsxs)("div",{className:"settings-row",children:[Object(d.jsx)(He,{children:"Visa byvind"}),Object(d.jsx)(Pe.a,{checked:this.props.showGust,onChange:function(e){return t.props.updateSettings({showGust:e})}})]})]})}),Object(d.jsx)(g.a,{})]}),Object(d.jsx)("a",{id:"privacy-policy",href:"https://regnkollen.se/privacy-policy.html",target:"_blank",children:"privacy policy"})]})]})}}]),n}(l.a.Component);var Je,qe=Object(m.b)((function(e){return{theme:e.settings.themeMode,showGust:e.settings.showGust,showMinMaxTemp:e.settings.showMinMaxTemp}}),(function(e){return{updateThemeMode:function(t){return e({type:Ge,themeMode:t})},updateSettings:function(t){return e(function(e){return{type:Ve,setting:e}}(t))}}}))(ze),Xe=n(249),Ye=["title","titleId"];function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function $e(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qe(e,t){var n=e.title,r=e.titleId,a=$e(e,Ye);return u.createElement("svg",Ke({width:"27.043mm",height:"19.318mm",viewBox:"0 0 27.043 19.318",xmlns:"http://www.w3.org/2000/svg",xmlnsCc:"http://creativecommons.org/ns#",xmlnsDc:"http://purl.org/dc/elements/1.1/",xmlnsRdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",ref:t,"aria-labelledby":r},a),n?u.createElement("title",{id:r},n):null,Je||(Je=u.createElement("metadata",null,u.createElement("rdfRDF",null,u.createElement("ccWork",{rdfAbout:""},u.createElement("dcformat",null,"image/svg+xml"),u.createElement("dctype",{rdfResource:"http://purl.org/dc/dcmitype/StillImage"}))))),u.createElement("g",{transform:"translate(267.35 -206.24)",fill:"currentColor"},u.createElement("path",{transform:"matrix(.5 0 0 1 -395.11 104.26)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(.5 0 0 1 -414.16 104.26)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(.35355 .35355 -.70711 .70711 -284.41 25.175)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(-.35355 .35355 -.70711 -.70711 -57.66 190.76)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{d:"m-266.53 224.75h25.4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6203,style:{paintOrder:"normal"}}),u.createElement("path",{d:"m-253.83 215.52a5.8207 5.8208 0 0 0-5.8208 5.8208 5.8207 5.8208 0 0 0 0.22167 1.587h11.194a5.8207 5.8208 0 0 0 0.22582-1.587 5.8207 5.8208 0 0 0-5.8203-5.8208z",stroke:"currentColor",strokeLinecap:"round",strokeWidth:.79375,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{d:"m-253.84 206.24a0.81024 0.81024 0 0 0-0.56277 0.2367l-1.0583 1.0583a0.81024 0.81024 0 0 0-0.0692 0.076l-1.1958 1.1958a0.8102 0.4051 45 1 0 1.1452 1.1451l0.94207-0.94205v2.2774a0.81024 0.81024 0 0 0 0 0.0806v2.0366a0.8102 0.4051 0 1 0 1.619 0v-3.176a0.8102 0.4051 0 0 0 0-0.0201v-1.201l0.94414 0.94414a0.4051 0.8102 45 1 0 1.1452-1.1451l-1.2077-1.2077a0.81024 0.81024 0 0 0-0.0594-0.0636l-1.0583-1.0583a0.81024 0.81024 0 0 0-0.58394-0.23669z",color:"currentColor",colorRendering:"auto",dominantBaseline:"auto",imageRendering:"auto",shapeRendering:"auto","solid-color":"currentColor",style:{fontFeatureSettings:"normal",fontVariantAlternates:"normal",fontVariantCaps:"normal",fontVariantLigatures:"normal",fontVariantNumeric:"normal",fontVariantPosition:"normal",isolation:"auto",mixBlendMode:"normal",paintOrder:"markers fill stroke",shapePadding:0,textDecorationColor:"currentColor",textDecorationLine:"none",textDecorationStyle:"solid",textIndent:0,textOrientation:"mixed",textTransform:"none",whiteSpace:"normal"}})))}var Ze,et=u.forwardRef(Qe),tt=(n.p,["title","titleId"]);function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}function rt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function at(e,t){var n=e.title,r=e.titleId,a=rt(e,tt);return u.createElement("svg",nt({width:"27.043mm",height:"19.318mm",viewBox:"0 0 27.043 19.318",xmlns:"http://www.w3.org/2000/svg",xmlnsCc:"http://creativecommons.org/ns#",xmlnsDc:"http://purl.org/dc/elements/1.1/",xmlnsRdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",ref:t,"aria-labelledby":r},a),n?u.createElement("title",{id:r},n):null,Ze||(Ze=u.createElement("metadata",null,u.createElement("rdfRDF",null,u.createElement("ccWork",{rdfAbout:""},u.createElement("dcFormat",null,"image/svg+xml"),u.createElement("dcType",{rdfResource:"http://purl.org/dc/dcmitype/StillImage"}))))),u.createElement("g",{transform:"translate(291.71 -197.38)",fill:"currentColor"},u.createElement("path",{d:"m-278.19 206.66a5.8207 5.8208 0 0 0-5.8208 5.8208 5.8207 5.8208 0 0 0 0.22167 1.587h11.194a5.8207 5.8208 0 0 0 0.22582-1.587 5.8207 5.8208 0 0 0-5.8203-5.8208z",stroke:"currentColor",strokeLinecap:"round",strokeWidth:.79375,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(.5 0 0 1 -419.48 95.401)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(.5 0 0 1 -438.53 95.401)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(.35355 .35355 -.70711 .70711 -308.78 16.318)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{transform:"matrix(-.35355 .35355 -.70711 -.70711 -82.024 181.9)",d:"m298.45 117.08h6.35",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.6202,style:{paintOrder:"markers fill stroke"}}),u.createElement("path",{d:"m-290.89 215.89h25.4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6203,style:{paintOrder:"normal"}}),u.createElement("path",{d:"m-278.2 204.97a0.81024 0.81024 0 0 1-0.56277-0.2367l-1.0583-1.0583a0.81024 0.81024 0 0 1-0.0692-0.076l-1.1958-1.1958a0.4051 0.8102 45 1 1 1.1452-1.1451l0.94207 0.94205v-2.2774a0.81024 0.81024 0 0 1 0-0.0806v-2.0366a0.8102 0.4051 0 1 1 1.619 0v3.176a0.8102 0.4051 0 0 1 0 0.0201v1.201l0.94414-0.94414a0.8102 0.4051 45 1 1 1.1452 1.1451l-1.2077 1.2077a0.81024 0.81024 0 0 1-0.0594 0.0636l-1.0583 1.0583a0.81024 0.81024 0 0 1-0.58394 0.23669z",color:"currentColor",colorRendering:"auto",dominantBaseline:"auto",imageRendering:"auto",shapeRendering:"auto","solid-color":"currentColor",style:{fontFeatureSettings:"normal",fontVariantAlternates:"normal",fontVariantCaps:"normal",fontVariantLigatures:"normal",fontVariantNumeric:"normal",fontVariantPosition:"normal",isolation:"auto",mixBlendMode:"normal",paintOrder:"markers fill stroke",shapePadding:0,textDecorationColor:"currentColor",textDecorationLine:"none",textDecorationStyle:"solid",textIndent:0,textOrientation:"mixed",textTransform:"none",whiteSpace:"normal"}})))}var st=u.forwardRef(at),ot=(n.p,n(245),p.a.Text);function it(e){return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}var ct=Object(m.b)((function(e){return{sunTimes:e.forecasts.forecast.sunTimes}}))((function(e){return Object(d.jsxs)("div",{className:"sun-times-container",children:[Object(d.jsxs)("div",{className:"sun-times-column",children:[Object(d.jsx)(Xe.a,{className:"sun-time-icon",component:et}),Object(d.jsx)(ot,{type:"secondary",children:it(e.sunTimes.sunrise)})]}),Object(d.jsxs)("div",{className:"sun-times-column",children:[Object(d.jsx)(Xe.a,{className:"sun-time-icon",component:st}),Object(d.jsx)(ot,{type:"secondary",children:it(e.sunTimes.sunset)})]})]})})),ut=p.a.Title,lt=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={showLocationSearch:!1,showSettingsPage:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchForecasts(this.props.selectedLocation),this.props.findUserPosition((function(t){t.name!==e.props.selectedLocation.name&&(e.props.fetchForecasts(t),e.props.selectUserLocation())})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){var n=t.matches?"dark":"light";e.props.updateSystemTheme(n)}))}},{key:"openLocationSearch",value:function(){this.setState({showLocationSearch:!0})}},{key:"closeLocationSearch",value:function(){this.setState({showLocationSearch:!1})}},{key:"openSettingsSearch",value:function(){this.setState({showSettingsPage:!0})}},{key:"closeSettingsSearch",value:function(){this.setState({showSettingsPage:!1})}},{key:"render",value:function(){var e,t=this;return Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsxs)("div",{className:"weather-page",style:{height:0,overflow:this.state.showLocationSearch||this.state.showSettingsPage?"hidden":"unset"},children:[Object(d.jsxs)("div",{className:"button-container",children:[Object(d.jsx)(L.a,{className:"settings-button",ghost:!0,icon:Object(d.jsx)(Re.a,{}),shape:"circle",size:"large",onClick:function(){return t.openSettingsSearch()}}),Object(d.jsx)(L.a,{className:"search-location-button",ghost:!0,icon:Object(d.jsx)(E.a,{}),shape:"circle",size:"large",onClick:function(){return t.openLocationSearch()}})]}),Object(d.jsx)(ut,{className:"title",style:{fontWeight:1,fontSize:50},children:null===(e=this.props.selectedLocation)||void 0===e?void 0:e.name}),this.props.weatherIsLoading?Object(d.jsx)(D.a,{className:"spin",size:"large"}):Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsx)(ct,{}),Object(d.jsx)(S,{})]})]}),this.state.showLocationSearch&&Object(d.jsx)(Ue,{close:function(){return t.closeLocationSearch()}}),this.state.showSettingsPage&&Object(d.jsx)(qe,{close:function(){return t.closeSettingsSearch()}})]})}}]),n}(l.a.Component);var dt=Object(m.b)((function(e){return{selectedLocation:e.locationSearch.selectedLocation,weatherIsLoading:e.forecasts.isLoading}}),(function(e){return{findUserPosition:function(t){return e((n=t,function(){var e=Object(U.a)(M.a.mark((function e(t){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={onSuccess:function(e){t(re(e)),n&&n(e)},onError:function(){return t(ne(""))}},t({type:X}),$(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},selectUserLocation:function(){return e({type:H})},fetchForecasts:function(t){return e(De(t))},updateSystemTheme:function(t){return e(function(e){return{type:Be,systemTheme:e}}(t))}}}))(lt);var ht=function(){return Object(d.jsx)("div",{id:"app",children:Object(d.jsx)("div",{id:"page",children:Object(d.jsx)(dt,{})})})},pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ft=n(62),vt=n(119),gt=n(122);function jt(e,t,n){var r;r=n?"; max-age="+n:"",document.cookie=e+"="+encodeURI(t)+r+"; SameSite=Strict; path=/"}function bt(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].trim().split("="),a=Object(gt.a)(r,2),s=a[0],o=a[1];if(s===e)return decodeURI(o)}return null}var yt={selectedLocation:function(){var e=bt("weather-location");if(null!==e)try{return JSON.parse(e)}catch(t){}return{name:"Stockholm",country:"Sverige",lat:59.33066,long:18.06855,alt:10}}(),geocodeResults:[],geocodeIsLoading:!1,geocodeErrorMessage:"",userLocation:void 0,userLocationIsLoading:!1,userLocationErrorMessage:""};function wt(e){jt("weather-location",JSON.stringify(e),31536e3)}var Ot={forecast:pe(void 0),isLoading:!0,errorMessage:void 0};var xt="theme-mode",_t={themeMode:bt(xt)||"system",systemTheme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",theme:"light",showGust:"true"===bt("show-gust"),showMinMaxTemp:"true"===bt("show-min-max-temp")};function kt(e){var t="dark";"dark"===e?document.documentElement.classList.add(t):document.documentElement.classList.remove(t)}!function(){var e;switch(_t.themeMode){case"light":e="light";break;case"dark":e="dark";break;case"system":e=_t.systemTheme}kt(e)}();var St=Object(ft.b)({locationSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return wt(t.location),Object(N.a)(Object(N.a)({},e),{},{selectedLocation:t.location});case H:return e.userLocation?(wt(e.userLocation),Object(N.a)(Object(N.a)({},e),{},{selectedLocation:e.userLocation})):Object(N.a)({},e);case z:return Object(N.a)(Object(N.a)({},e),{},{geocodeIsLoading:!0});case J:return Object(N.a)(Object(N.a)({},e),{},{geocodeIsLoading:!1,geocodeResults:t.results,geocodeErrorMessage:""});case q:return Object(N.a)(Object(N.a)({},e),{},{geocodeIsLoading:!1,geocodeResults:[],geocodeErrorMessage:t.errorMessage});case X:return Object(N.a)(Object(N.a)({},e),{},{userLocationIsLoading:!0});case Y:return Object(N.a)(Object(N.a)({},e),{},{userLocationIsLoading:!1,userLocation:t.location});case K:return Object(N.a)(Object(N.a)({},e),{},{userLocationIsLoading:!1,userLocationErrorMessage:t.errorMessage});default:return e}},forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(N.a)(Object(N.a)({},e),{},{isLoading:!0});case ce:return Object(N.a)(Object(N.a)({},e),{},{forecast:t.forecast,isLoading:!1,errorMessage:void 0});case ue:return Object(N.a)(Object(N.a)({},e),{},{isLoading:!1,errorMessage:t.errorMessage});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:var n;switch(t.themeMode){case"light":n="light";break;case"dark":n="dark";break;case"system":n=e.systemTheme}return kt(n),jt(xt,t.themeMode,31536e3),Object(N.a)(Object(N.a)({},e),{},{themeMode:t.themeMode,theme:n});case Be:return"system"===e.themeMode&&kt(t.systemTheme),Object(N.a)(Object(N.a)({},e),{},{systemTheme:t.systemTheme});case Ve:return void 0!==t.setting.showGust&&jt("show-gust",t.setting.showGust.toString(),31536e3),void 0!==t.setting.showMinMaxTemp&&jt("show-min-max-temp",t.setting.showMinMaxTemp.toString(),31536e3),Object(N.a)(Object(N.a)({},e),t.setting);default:return e}}}),Nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ft.c,Tt=Object(ft.d)(St,{},Object(ft.c)(Object(ft.a)(vt.a),Nt()));a.a.render(Object(d.jsx)(m.a,{store:Tt,children:Object(d.jsx)(ht,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):mt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):mt(t,e)}))}}()}},[[246,1,2]]]);
//# sourceMappingURL=main.2c4d334b.chunk.js.map