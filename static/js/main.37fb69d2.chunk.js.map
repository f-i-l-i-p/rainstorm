{"version":3,"sources":["icons3 sync /^/.//.*/.svg$","icons3/clear_sky_day.svg","icons3/clear_sky_night.svg","icons3/cloudy.svg","icons3/fog.svg","icons3/half_clear_sky_day.svg","icons3/half_clear_sky_night.svg","icons3/heavy_rain.svg","icons3/heavy_sleet.svg","icons3/light_rain.svg","icons3/light_sleet.svg","icons3/moderate_rain.svg","icons3/moderate_sleet.svg","icons3/nearly_clear_sky_day.svg","icons3/nearly_clear_sky_night.svg","icons3/overcast.svg","icons3/snow.svg","icons3/sunrise.svg","icons3/sunset.svg","icons3/thunder.svg","icons3/unknown.svg","components/atoms/Paper/index.tsx","components/weather/WeatherCell/index.tsx","components/weather/TimeCell/index.tsx","components/weather/WeatherTable/index.tsx","components/weather/WeatherTableList/index.tsx","location/geocoder.ts","store/locationSearch/types.ts","location/geolocation.ts","store/locationSearch/actions.ts","weather/types.ts","components/location/LocationSearchItem/index.tsx","store/forecasts/types.ts","helpers/date.ts","weather/emptyForecast.ts","weather/sunrise.ts","weather/iconMaker.ts","weather/weatherProviders/abstractProvider.ts","weather/weatherProviders/MET.ts","weather/weatherProviders/SMHI.ts","weather/forecastMaker.ts","store/forecasts/actions.ts","components/location/LocationSearchList/index.tsx","components/location/LocationSearch/index.tsx","components/atoms/Header/index.tsx","store/settings/types.ts","components/pages/SettingsPage/index.tsx","webpack:///./src/icons3/sunrise.svg?59d2","store/settings/actions.ts","webpack:///./src/icons3/sunset.svg?8942","components/weather/SunTimes/index.tsx","components/pages/WeatherPage/index.tsx","App.tsx","serviceWorker.ts","helpers/cookies.ts","store/locationSearch/reducers.ts","store/forecasts/reducers.ts","store/settings/reducers.ts","store/index.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Paper","props","className","style","children","Text","Typography","connect","state","showGust","settings","showMinMaxTemp","undefined","weather","Fragment","isNaN","temperature","temperatureMin","temperatureMax","strong","Math","round","type","marginLeft","marginRight","symbol","alt","src","require","default","wind","gust","precipitation","precipitationUnit","TimeCell","time","Title","WeatherTable","level","this","name","width","height","providers","ignored","index","provider","margin","overflowX","justifyContent","tableData","column","formatTime","React","Component","any","date","getHours","slice","startDate","endDate","WeatherTableList","result","getDay","pairs","i","forecast","days","length","push","hours","getTableName","weatherPair","weatherDay","index2","spans","lastSearch","forecasts","isLoading","selectedLocation","locationSearch","lastSearchId","startGeocode","searchTerm","listener","trimmed","trim","onSuccess","newSearchId","setTimeout","tryPerformSearch","isOutdated","searchId","fetchGeocodeData","a","process","fetch","formatData","json","locations","loc","country","lat","Number","long","ok","console","warn","statusText","onAbort","SELECT_LOCATION","SELECT_USER_LOCATION","GEOCODE_START","GEOCODE_SUCCESS","GEOCODE_FAILURE","LOCATE_USER_START","LOCATE_USER_SUCCESS","LOCATE_USER_FAILURE","startGeolocate","navigator","geolocation","getCurrentPosition","position","geocodeCoordinates","coords","error","coordinates","fetchReverseGeocode","latitude","longitude","response","onError","data","altitude","NaN","address","city","municipality","county","lon","geocodeFailure","errorMessage","locateUserSuccess","location","WeatherIcon","Item","onClick","onSelect","FORECAST_FETCH_START","FORECAST_FETCH_SUCCESS","FORECAST_FETCH_FAILURE","listHoursFromNow","count","start","Date","setHours","setMinutes","setSeconds","setMilliseconds","listDates","listDaysFromTomorrow","setDate","getDate","interval","times","getTime","createEmptyForecast","now","sunTimes","sunrise","sunset","createEmptyCombinedWeather","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","UTC","getProviderNames","combined","forEach","unknown","getSunTimes","callback","dateString","toISOString","split","request","url","formatResponse","isNight","dateSeconds","dateToTime","sunRiseSeconds","sunSetSeconds","isSpanNight","end","toNight","icon","clear_sky_day","clear_sky_night","half_clear_sky_day","half_clear_sky_night","nearly_clear_sky_day","nearly_clear_sky_night","getMinutes","getSeconds","getMilliseconds","AbstractProvider","responseJson","onFailure","requestData","toString","MET","icons","cloudy","fog","heavy_rain","thunder","heavy_sleet","snow","light_rain","light_sleet","moderate_rain","moderate_sleet","status","timeSeries","properties","timeseries","hoursIndex","timeSeriesIndex","timeSerie","timeSerieDate","symbol_str","next_1_hours","summary","symbol_code","details","precipitation_amount","next_6_hours","next_12_hours","instant","air_temperature","wind_speed","wind_speed_of_gust","j","span","spanLength","minTemp","maxTemp","air_temperature_min","air_temperature_max","nextTimeSerie","pThis","pNext","min","max","SMHI","value","substr","validTime","parameters","find","values","getIcon","iconDate","sumWeather","startIndex","symbolDate","totalPrecipitation","maxWind","maxGust","symbols","temp","maxSymbolCount","maxSymbol","symbolCount","weatherProviders","newForecast","sunTimesDone","remainingProviders","waitingProviders","onProviderResponse","canFillForecast","fillForecast","onSunTimesResponse","sunTimesResponse","fetchForecast","searchSuccess","fetchForecasts","dispatch","LocationSearchList","selectLocation","showUserLocation","userLocation","LocationSearchItem","onLocationSelect","locationResults","geocodeResults","LocationSearch","showUserPosition","text","searchLocations","show","setState","size","bordered","placeholder","autoFocus","allowClear","prefix","SearchOutlined","onChange","target","ghost","close","geocodeIsLoading","searchString","results","Header","title","backButton","backButtonName","UPDATE_THEME_MODE","UPDATE_SYSTEM_THEME","UPDATE_SETTING","SettingsPage","updateThemeMode","themeValue","theme","Group","onThemeChange","direction","checked","updateSettings","href","rel","_metadata","themeMode","setting","_excluded","_extends","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSunrise","_ref","svgRef","titleId","viewBox","xmlns","ref","transform","fill","d","stroke","strokeLinecap","strokeWidth","paintOrder","strokeLinejoin","color","colorRendering","dominantBaseline","imageRendering","shapeRendering","fontFeatureSettings","fontVariantAlternates","fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","isolation","mixBlendMode","shapePadding","textDecorationColor","textDecorationLine","textDecorationStyle","textIndent","textOrientation","textTransform","whiteSpace","ForwardRef","SvgSunset","padStart","Icon","component","SunRise","SunSet","WeatherPage","showLocationSearch","showSettingsPage","findUserPosition","selectUserLocation","window","matchMedia","addEventListener","matches","updateSystemTheme","overflow","SettingOutlined","shape","openSettingsSearch","openLocationSearch","fontWeight","fontSize","weatherIsLoading","SunTimes","closeLocationSearch","closeSettingsSearch","systemTheme","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","catch","setCookie","maxAge","expires","document","cookie","encodeURI","getCookie","cookies","cookieName","cookieValue","decodeURI","initialState","JSON","parse","getInitialLocation","geocodeErrorMessage","userLocationIsLoading","userLocationErrorMessage","saveLocation","stringify","THEME_MODE_COOKIE","applyTheme","DARK_CLASS","documentElement","classList","add","remove","setInitialTheme","rootReducer","combineReducers","action","composeEnhancers","compose","createStore","applyMiddleware","thunk","ReactDOM","render","store","getElementById","URL","origin","headers","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.37fb69d2.chunk.js","sourcesContent":["var map = {\n\t\"./clear_sky_day.svg\": 212,\n\t\"./clear_sky_night.svg\": 213,\n\t\"./cloudy.svg\": 214,\n\t\"./fog.svg\": 215,\n\t\"./half_clear_sky_day.svg\": 216,\n\t\"./half_clear_sky_night.svg\": 217,\n\t\"./heavy_rain.svg\": 218,\n\t\"./heavy_sleet.svg\": 219,\n\t\"./light_rain.svg\": 220,\n\t\"./light_sleet.svg\": 221,\n\t\"./moderate_rain.svg\": 222,\n\t\"./moderate_sleet.svg\": 223,\n\t\"./nearly_clear_sky_day.svg\": 224,\n\t\"./nearly_clear_sky_night.svg\": 225,\n\t\"./overcast.svg\": 226,\n\t\"./snow.svg\": 227,\n\t\"./sunrise.svg\": 228,\n\t\"./sunset.svg\": 229,\n\t\"./thunder.svg\": 230,\n\t\"./unknown.svg\": 231\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 211;","export default __webpack_public_path__ + \"static/media/clear_sky_day.08d2252c.svg\";","export default __webpack_public_path__ + \"static/media/clear_sky_night.529a641f.svg\";","export default __webpack_public_path__ + \"static/media/cloudy.b1731609.svg\";","export default __webpack_public_path__ + \"static/media/fog.fdf19a8b.svg\";","export default __webpack_public_path__ + \"static/media/half_clear_sky_day.89d8c1b7.svg\";","export default __webpack_public_path__ + \"static/media/half_clear_sky_night.75572318.svg\";","export default __webpack_public_path__ + \"static/media/heavy_rain.3366fbb7.svg\";","export default __webpack_public_path__ + \"static/media/heavy_sleet.fa0fb9d8.svg\";","export default __webpack_public_path__ + \"static/media/light_rain.920a6452.svg\";","export default __webpack_public_path__ + \"static/media/light_sleet.ae8a3066.svg\";","export default __webpack_public_path__ + \"static/media/moderate_rain.2a623bba.svg\";","export default __webpack_public_path__ + \"static/media/moderate_sleet.7758da5c.svg\";","export default __webpack_public_path__ + \"static/media/nearly_clear_sky_day.36e650c9.svg\";","export default __webpack_public_path__ + \"static/media/nearly_clear_sky_night.e9c1247d.svg\";","export default __webpack_public_path__ + \"static/media/overcast.a2822c8c.svg\";","export default __webpack_public_path__ + \"static/media/snow.9758315a.svg\";","export default __webpack_public_path__ + \"static/media/sunrise.0598d674.svg\";","export default __webpack_public_path__ + \"static/media/sunset.dacbfc7d.svg\";","export default __webpack_public_path__ + \"static/media/thunder.31fc6f06.svg\";","export default __webpack_public_path__ + \"static/media/unknown.791c8f32.svg\";","import React from \"react\";\nimport CSS from 'csstype'\n\nimport './style.css';\n\ninterface Props {\n    style?: CSS.Properties,\n    children?: React.ReactNode\n}\n\nconst Paper = (props: Props) => (\n    <div className=\"paper\" style={props.style}>\n        {props.children}\n    </div>\n);\n\nexport default Paper;","import React from \"react\";\nimport { Typography } from \"antd\";\n\nimport './style.css';\nimport { IWeather } from \"../../../weather/types\";\nimport { AppState } from \"../../../store\";\nimport { connect } from \"react-redux\";\n\nconst { Text } = Typography;\n\ninterface Props {\n    weather: IWeather,\n    showGust: boolean,\n    showMinMaxTemp: boolean,\n}\n\nconst WeatherCell = (props: Props) => (\n    <div className=\"weather_cell\">\n        {props.weather !== undefined &&\n            <React.Fragment>\n                {isNaN(props.weather.temperature) ?\n                    <Text>{\" \"}</Text>\n                    :\n                    (props.showMinMaxTemp && !isNaN(props.weather.temperatureMin) && !isNaN(props.weather.temperatureMax)) ?\n                        <div>\n                            <Text strong className=\"minimum\">{Math.round(props.weather.temperatureMin)}</Text>\n                            <Text type=\"secondary\" style={{ marginLeft: \"1px\", marginRight: \"1px\" }}>/</Text>\n                            <Text strong className=\"maximum\">{Math.round(props.weather.temperatureMax)}</Text>\n                            <Text strong> °C</Text>\n                        </div>\n                        :\n                        < Text strong>{Math.round(props.weather.temperature)} °C</Text>\n                }\n                {props.weather.symbol &&\n                    <img className='weather_symbol' alt=\"\" src={require(\"../../../icons3/\" + props.weather.symbol + \".svg\").default} />\n                }\n                <div>\n                    <div>\n                        {isNaN(props.weather.wind) ?\n                            <Text>{\" \"}</Text>\n                            :\n                            (props.showGust && !isNaN(props.weather.gust)) ?\n                                <React.Fragment>\n                                    <Text type=\"secondary\">{Math.round(props.weather.wind)}</Text>\n                                    <Text className=\"maximum\" type=\"secondary\" style={{ marginLeft: \"1px\", marginRight: \"1px\" }}>{\"(\" + Math.round(props.weather.gust) + \")\"}</Text>\n                                    <Text type=\"secondary\">{\"m/s\"}</Text>\n                                </React.Fragment>\n                                :\n                                <Text type=\"secondary\">{Math.round(props.weather.wind)} m/s</Text>\n                        }\n                    </div>\n                    {isNaN(props.weather.precipitation) ?\n                        <div>\n                            <Text>{\" \"}</Text>\n                        </div>\n                        :\n                        <Text type=\"secondary\">{props.weather.precipitation + \" \" + props.weather.precipitationUnit}</Text>\n                    }\n                </div>\n            </React.Fragment>\n        }\n    </div >\n);\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        showGust: state.settings.showGust,\n        showMinMaxTemp: state.settings.showMinMaxTemp,\n    }\n}\n\nexport default connect(mapStateToProps)(WeatherCell);","import React from \"react\";\nimport { Typography } from \"antd\";\n\nimport './style.css';\n\nconst { Text } = Typography;\n\ninterface Props {\n    time: string\n}\n\nconst TimeCell = (props: Props) => (\n    <div className=\"time_cell\">\n        <Text strong>{props.time}</Text>\n    </div>\n);\n\nexport default TimeCell;","import React from \"react\";\nimport Paper from \"../../atoms/Paper\";\nimport WeatherCell from \"../WeatherCell\";\nimport { Divider, Typography } from \"antd\";\nimport TimeCell from \"../TimeCell\";\nimport { IWeatherPoint, IWeatherSpan } from \"../../../weather/types\";\nimport './style.css';\n\nconst { Title } = Typography;\n\ninterface IWeatherTableListProps {\n    tableData: IWeatherSpan[] | IWeatherPoint[],\n    providers: string[],\n    name: string,\n}\n\nclass WeatherTable extends React.Component<IWeatherTableListProps> {\n    public render() {\n        return (\n            <div>\n                <Title level={4}>{this.props.name}</Title>\n                <div className=\"columns\">\n\n                    {/* Time row background */}\n                    <div className=\"right-column\">\n                        <div className=\"time-row\" style={{ width: '100%' }}>\n                            <Paper style={{ width: '100%', height: '100%' }} />\n                        </div>\n                    </div>\n\n                    {/* Weather row background. One for each provider. */}\n                    <div className=\"all-columns\">\n                        <div className=\"time-row\" />\n                        {this.props.providers.map((ignored, index) =>\n                            <div key={index} className=\"weather-row\">\n                                <Paper style={{ width: '100%', height: '100%' }} />\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Provider Name */}\n                    <div className=\"left-column\">\n                        <div className=\"time-row\" />\n                        {this.props.providers.map((provider, index) =>\n                            <div key={index} className=\"weather-row\">\n                                <Typography className=\"weather-provider-name\">\n                                    {provider}\n                                </Typography>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Divider */}\n                    <div className=\"divider-column\">\n                        <div className=\"time-row\" />\n                        {this.props.providers.map((ignored, index) =>\n                            <div key={index} className=\"weather-row\">\n                                <Divider type=\"vertical\" style={{ height: 'calc(100% - 5px)', margin: 0 }} />\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Time cells and Weather cells */}\n                    <div className=\"right-column\" style={{ overflowX: 'auto' }}>\n                        <div className=\"time-row\" style={{ justifyContent: \"space-around\" }}>\n                            {this.props.tableData.map((column: any, index) =>\n                                <TimeCell key={index} time={formatTime(column)} />\n                            )}\n                        </div>\n                        {this.props.providers.map((provider, index) =>\n                            <div key={index} className=\"weather-row\" style={{ justifyContent: \"space-around\" }}>\n                                {this.props.tableData.map((column, index) =>\n                                    <WeatherCell key={index} weather={column.weather[provider]} />\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </div >\n            </div>\n        );\n    }\n}\n\nfunction formatTime(column: IWeatherPoint | IWeatherSpan): string {\n    const any: any = column;\n    if (any.date) {\n        return ('0' + any.date.getHours()).slice(-2);\n    }\n    else if (any.startDate && any.endDate) {\n        return ('0' + any.startDate.getHours()).slice(-2) + \"—\" + ('0' + any.endDate.getHours()).slice(-2);\n    }\n\n    return \"\";\n}\n\nexport default WeatherTable;","import React from \"react\";\nimport './style.css';\nimport WeatherTable from \"../WeatherTable\";\nimport { AppState } from \"../../../store\";\nimport { connect } from \"react-redux\";\nimport { ILocation } from \"../../../location/types\";\nimport { IWeatherDay, IWeatherForecast } from \"../../../weather/types\";\n\ninterface IWeatherTableListProps {\n    forecast: IWeatherForecast,\n    isLoading: boolean,\n    selectedLocation?: ILocation,\n}\n\nclass WeatherTableList extends React.Component<IWeatherTableListProps> {\n    private getTableName(index: number, date: Date | undefined): string {\n        let result = \"\";\n\n        if (!date) return result;\n\n        if (index === 0) {\n            result = \"Idag, \";\n        } else {\n            result = \"\";\n        }\n\n        switch (date.getDay()) {\n            case 1:\n                result += \"Måndag\";\n                break;\n            case 2:\n                result += \"Tisdag\";\n                break;\n            case 3:\n                result += \"Onsdag\";\n                break;\n            case 4:\n                result += \"Torsdag\";\n                break;\n            case 5:\n                result += \"Fredag\";\n                break;\n            case 6:\n                result += \"Lördag\";\n                break;\n            case 0:\n                result += \"Söndag\";\n                break;\n        }\n\n        return result;\n    }\n\n    public render() {\n        let pairs: IWeatherDay[][] = [];\n        for (let i = 0; i < this.props.forecast.days.length - 1; i += 2) {\n            pairs.push([this.props.forecast.days[i], this.props.forecast.days[i + 1]]);\n        }\n\n        return (\n            <div className=\"list\">\n                <WeatherTable tableData={this.props.forecast.hours} providers={this.props.forecast.providers} name={this.getTableName(0, this.props.forecast.hours[0].date)} />\n                {pairs.map((weatherPair, index) =>\n                    <div className=\"weather-table-pair\" key={index}>\n                        {weatherPair.map((weatherDay, index2) =>\n                            <WeatherTable\n                                key={index2}\n                                tableData={weatherDay.spans}\n                                providers={this.props.forecast.providers}\n                                name={this.getTableName(index + index2 + 1, weatherDay.spans[0].startDate)}\n                            />\n                        )}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        forecast: state.forecasts.forecast,\n        isLoading: state.forecasts.isLoading,\n        selectedLocation: state.locationSearch.selectedLocation,\n    }\n}\n\nexport default connect(mapStateToProps)(WeatherTableList);\n","import { ILocation, IGeocodeListener } from \"./types\";\n\nlet lastSearch: string;\nlet lastSearchId: number = 0;\n\n// The minimum delay between requests to the api\nconst MIN_SEARCH_DELAY: number = 500;\n\n\n/**\n * Starts a new geocode search. The result will be returned to the listener.\n */\nexport function startGeocode(searchTerm: string, listener: IGeocodeListener): void {\n    const trimmed = searchTerm.trim()\n    if (trimmed === lastSearch) {\n        return;\n    }\n\n    lastSearch = trimmed;\n\n    if (trimmed === \"\") {\n        // Don't do an actual search if there is no search term\n        listener.onSuccess([]);\n        lastSearchId++;\n        return;\n    }\n\n    lastSearchId++;\n    let newSearchId = lastSearchId;\n\n    setTimeout(() => tryPerformSearch(newSearchId, trimmed, listener), MIN_SEARCH_DELAY);\n}\n\n\n/**\n * Returns true if the given search id is outdated.\n */\nfunction isOutdated(searchId: number): boolean {\n    return searchId !== lastSearchId;\n}\n\n\n/**\n * Fetches data from geocode api.\n */\nasync function fetchGeocodeData(searchTerm: string): Promise<Response> {\n    const key = process.env.REACT_APP_LOCATIONIQ;\n    const address = \"https://api.locationiq.com/v1/autocomplete.php\";\n\n    return fetch(`${address}?key=${key}&q=${searchTerm}&viewbox=3,44,32,71&limit=20&dedupe=1&accept-language=sv`);//&accept-language=native');\n}\n\n\n/**\n * Formats the json data from the geocode api.\n */\nfunction formatData(json: any): ILocation[] {\n    const locations: ILocation[] = []\n\n    for (const loc of json) {\n        locations.push({\n            country: loc['display_address'],\n            name: loc['display_place'],\n            lat: Number(loc['lat']),\n            long: Number(loc['lon']),\n            alt: 0,\n        });\n    }\n\n    return locations\n}\n\n\n/**\n * Tries to perform a search, but cancels if the search becomes outdated.\n */\nasync function tryPerformSearch(searchId: number, searchTerm: string, listener: IGeocodeListener) {\n    if (isOutdated(searchId)) {\n        return;\n    }\n\n    const result = await fetchGeocodeData(searchTerm);\n\n    if (isOutdated(searchId)) {\n        return;\n    }\n\n    const json = await result.json();\n\n    if (isOutdated(searchId)) {\n        return;\n    }\n\n    if (result.ok) {\n        const locations = formatData(json);\n        listener.onSuccess(locations);\n    }\n    // Returns this with a 404 status when no location found.\n    else if ( json['error'] === \"Unable to geocode\" ) {\n        const locations: ILocation[] = [];\n        listener.onSuccess(locations);\n    }\n    else {\n        // TODO: Remove console warn\n        console.warn('Geocode response error!', result.statusText);\n        listener.onAbort();\n    }\n}\n","import { ILocation } from \"../../location/types\";\n\nexport interface ILocationSearchState {\n    selectedLocation: ILocation,\n\n    geocodeResults: ILocation[],\n    geocodeIsLoading: boolean,\n    geocodeErrorMessage: string,\n\n    userLocation?: ILocation,\n    userLocationIsLoading: boolean,\n    userLocationErrorMessage: string,\n}\n\n// Select location\n\nexport const SELECT_LOCATION = 'SELECT_LOCATION';\n\ninterface ISelectLocationAction {\n    type: typeof SELECT_LOCATION,\n    location: ILocation\n}\n\nexport const SELECT_USER_LOCATION = \"SELECT_USER_LOCATION\";\n\ninterface ISelectUserLocation {\n    type: typeof SELECT_USER_LOCATION,\n}\n\n// Geocode\n\nexport const GEOCODE_START = 'GEOCODE_START';\n\ninterface IGeocodeStartAction {\n    type: typeof GEOCODE_START,\n}\n\nexport const GEOCODE_SUCCESS = 'GEOCODE_SUCCESS';\n\ninterface IGeocodeSuccessAction {\n    type: typeof GEOCODE_SUCCESS,\n    results: ILocation[]\n}\n\nexport const GEOCODE_FAILURE = 'GEOCODE_FAILURE';\n\ninterface IGeocodeFailureAction {\n    type: typeof GEOCODE_FAILURE,\n    errorMessage: string\n}\n\n// Locate user\n\nexport const LOCATE_USER_START = 'LOCATE_USER_START';\n\ninterface ILocateUserStartAction {\n    type: typeof LOCATE_USER_START,\n}\n\nexport const LOCATE_USER_SUCCESS = 'LOCATE_USER_SUCCESS';\n\ninterface ILocateUserSuccessAction {\n    type: typeof LOCATE_USER_SUCCESS,\n    location: ILocation\n}\n\nexport const LOCATE_USER_FAILURE = 'LOCATE_USER_FAILURE';\n\ninterface ILocateUserFailureAction {\n    type: typeof LOCATE_USER_FAILURE,\n    errorMessage: string\n}\n\n// Types\n\nexport type LocationActionTypes = ISelectLocationAction | ISelectUserLocation | IGeocodeStartAction | IGeocodeSuccessAction | IGeocodeFailureAction | ILocateUserStartAction | ILocateUserSuccessAction | ILocateUserFailureAction;","\nimport { ILocation, IUserPositionListener } from \"./types\";\n\n/**\n * Tries to find the users position and returns it to the listener.\n */\nexport function startGeolocate(listener: IUserPositionListener) {\n    const successCallback: PositionCallback = (position) => geocodeCoordinates(position.coords, listener);\n\n    const errorCallback: PositionErrorCallback = (error) => {\n        // TODO\n    };\n\n    navigator.geolocation.getCurrentPosition(successCallback, errorCallback);\n}\n\n/**\n * Converts coordinates to a location\n */\nasync function geocodeCoordinates(coordinates: GeolocationCoordinates, listener: IUserPositionListener) {\n    const response = await fetchReverseGeocode(coordinates.latitude, coordinates.longitude);\n\n    if (!response.ok) {\n        listener.onError();\n        return;\n    }\n\n    const json = await response.json();\n\n    let data = formatData(json);\n    // Geocoder does not have altitude so use user position.\n    data.alt = coordinates.altitude || NaN;\n\n    listener.onSuccess(data)\n}\n\n/**\n * Fetches data from reverse geocoding api.\n */\nasync function fetchReverseGeocode(latitude: number, longitude: number): Promise<Response> {\n    const key = process.env.REACT_APP_LOCATIONIQ;\n    const address = \"https://eu1.locationiq.com/v1/reverse.php\";\n\n    return fetch(`${address}?key=${key}&lat=${latitude}&lon=${longitude}&format=json&accept-language=sv`);\n}\n\n/**\n * Formats the json data from the reverse geocoding api.\n */\nfunction formatData(json: any): ILocation {\n    return {\n        country: \"Från din position\",\n        name: json.address.city || json.address.municipality || json.address.county || json.address.country,\n        lat: json.lat,\n        long: json.lon,\n        alt: NaN,\n    }\n}\n","import { Dispatch } from 'redux';\nimport { IGeocodeListener, ILocation, IUserPositionListener as ILocateUserListener } from '../../location/types';\nimport { startGeocode } from '../../location/geocoder';\nimport { GEOCODE_FAILURE, GEOCODE_START, GEOCODE_SUCCESS, LOCATE_USER_FAILURE, LOCATE_USER_START, LOCATE_USER_SUCCESS, LocationActionTypes, SELECT_LOCATION, SELECT_USER_LOCATION } from './types';\nimport { startGeolocate } from '../../location/geolocation';\n\n\nexport function selectLocation(location: ILocation) {\n    return {\n        type: SELECT_LOCATION,\n        location: location,\n    }\n}\n\nexport function selectUserLocation() {\n    return {\n        type: SELECT_USER_LOCATION,\n    }\n}\n\nexport const geocode = (searchString: string) => async (dispatch: Dispatch) => {\n    const onSuccess = (locations: ILocation[]) => dispatch(geocodeSuccess(locations));\n    const onFailure = () => dispatch(geocodeFailure(\"\")); // TODO: Error message\n\n    const listener: IGeocodeListener = {\n        onSuccess: onSuccess,\n        onAbort: onFailure,\n    }\n\n    dispatch(geocodeStart());\n\n    startGeocode(searchString, listener);\n}\n\nexport const requestUserPosition = (callback?: (location: ILocation) => void) => async (dispatch: Dispatch) => {\n    const onSuccess = (location: ILocation) => {\n        dispatch(locateUserSuccess(location));\n        if (callback)\n            callback(location);\n    };\n    const onError = () => dispatch(geocodeFailure(\"\")); // TODO: Error message\n\n    const listener: ILocateUserListener = {\n        onSuccess: onSuccess,\n        onError: onError,\n    }\n\n    dispatch(locateUserStart());\n\n    startGeolocate(listener)\n}\n\nfunction geocodeStart(): LocationActionTypes {\n    return {\n        type: GEOCODE_START,\n    };\n}\n\nfunction geocodeSuccess(results: ILocation[]): LocationActionTypes {\n    return {\n        type: GEOCODE_SUCCESS,\n        results: results\n    }\n}\n\nfunction geocodeFailure(errorMessage: string): LocationActionTypes {\n    return {\n        type: GEOCODE_FAILURE,\n        errorMessage: errorMessage\n    }\n}\n\nfunction locateUserStart(): LocationActionTypes {\n    return {\n        type: LOCATE_USER_START,\n    };\n}\n\nfunction locateUserSuccess(location: ILocation): LocationActionTypes {\n    return {\n        type: LOCATE_USER_SUCCESS,\n        location: location\n    }\n}\n\nfunction locateUserFailure(errorMessage: string): LocationActionTypes {\n    return {\n        type: LOCATE_USER_FAILURE,\n        errorMessage: errorMessage\n    }\n}","import { ILocation } from \"../location/types\";\nimport { SunTimes } from \"./sunrise\";\n\nexport interface IWeatherForecast {\n    sunTimes: SunTimes,\n    hours: IWeatherPoint[],\n    days: IWeatherDay[],\n    providers: string[],\n    location: ILocation,\n}\n\nexport interface IWeatherPoint {\n    date: Date,\n    weather: ICombinedWeather,\n}\n\nexport interface IWeatherDay {\n    spans: IWeatherSpan[],\n}\n\nexport interface IWeatherSpan {\n    startDate: Date,\n    endDate: Date,\n    weather: ICombinedWeather\n}\n\nexport interface ICombinedWeather {\n    [key: string]: IWeather,\n}\n\nexport interface IWeather {\n    temperature: number,\n    temperatureMin: number,\n    temperatureMax: number,\n    wind: number,\n    gust: number,\n    precipitation: number,\n    precipitationUnit: string,\n    symbol: WeatherIcon,\n}\n\nexport enum WeatherIcon {\n    unknown = \"unknown\",\n    // Cloudiness\n    clear_sky_day = \"clear_sky_day\",\n    clear_sky_night = \"clear_sky_night\",\n    nearly_clear_sky_day = \"nearly_clear_sky_day\",\n    nearly_clear_sky_night = \"nearly_clear_sky_night\",\n    half_clear_sky_day = \"half_clear_sky_day\",\n    half_clear_sky_night = \"half_clear_sky_night\",\n    cloudy = \"cloudy\",\n    // Rain\n    light_rain = \"light_rain\",\n    moderate_rain = \"moderate_rain\",\n    heavy_rain = \"heavy_rain\",\n    // Sleet\n    light_sleet = \"light_sleet\",\n    moderate_sleet = \"moderate_sleet\",\n    heavy_sleet = \"heavy_sleet\",\n    // Other\n    snow = \"snow\",\n    thunder = \"thunder\",\n    fog = \"fog\",\n}","import { Typography } from \"antd\";\nimport { ILocation } from \"../../../location/types\";\nimport './style.css';\n\nconst { Text } = Typography;\n\ninterface Props {\n    location: ILocation,\n    onSelect: (location: ILocation) => void,\n}\n\nconst Item = (props: Props) => (\n    <button className=\"location-list-item\" onClick={() => props.onSelect(props.location)}>\n        <Text strong>{props.location.name}</Text>\n        <Text type=\"secondary\">{props.location.country}</Text>\n    </button>\n);\n\nexport default Item;","import { IWeatherForecast } from \"../../weather/types\";\n\nexport interface IWeatherState {\n    forecast: IWeatherForecast,\n    isLoading: boolean\n    errorMessage?: string,\n}\n\nexport const FORECAST_FETCH_START = 'FORECAST_FETCH_START';\n\ninterface IFetchStartAction {\n    type: typeof FORECAST_FETCH_START,\n}\n\nexport const FORECAST_FETCH_SUCCESS = 'FORECAST_FETCH_SUCCESS';\n\ninterface IFetchSuccessAction {\n    type: typeof FORECAST_FETCH_SUCCESS,\n    forecast: IWeatherForecast,\n}\n\nexport const FORECAST_FETCH_FAILURE = 'FORECAST_FETCH_FAILURE';\n\ninterface IFetchFailureAction {\n    type: typeof FORECAST_FETCH_FAILURE,\n    errorMessage: string,\n}\n\nexport type ForecastActionTypes = IFetchStartAction | IFetchSuccessAction | IFetchFailureAction;","/**\n * Returns a list of Date objects with one hour difference, starting with the current hour.\n * @param count The number of Date objects to return.\n */\nexport function listHoursFromNow(count: number): Date[] {\n    let start = new Date();\n    start.setHours(start.getHours() + 1);\n    start.setMinutes(0);\n    start.setSeconds(0);\n    start.setMilliseconds(0);\n    return listDates(start, 3600000, count);\n}\n\n/**\n * Returns a list of Date objects with one day difference, starting with the next day.\n * @param count The number of Date objects to return.\n */\nexport function listDaysFromTomorrow(count: number): Date[] {\n    let start = new Date();\n    start.setDate(start.getDate() + 1);\n    return listDates(start, 86400000, count);\n}\n\n/**\n * Returns an array of Date objects.\n * @param start The first date in the array.\n * @param interval The time difference in milliseconds.\n * @param count The number of Date objects to return.\n */\nexport function listDates(start: Date, interval: number, count: number): Date[] {\n    let times: Date[] = []\n\n    for (let i = 0; i < count; i++) {\n        times.push(new Date(start.getTime() + (i * interval)));\n    }\n\n    return times;\n}\n\n/**\n * Returns the number of days from today to the given date.\n */\nexport function getDayOffset(date: Date) {\n    let today = new Date();\n    today.setHours(0);\n    today.setMinutes(0);\n    today.setSeconds(0);\n    today.setMilliseconds(0);\n\n    let diff = date.getTime() - today.getTime();\n\n    return Math.floor(diff / 86400000);  // 86400000 milliseconds in a day)\n}","import { listDaysFromTomorrow, listHoursFromNow } from \"../helpers/date\";\nimport { ILocation } from \"../location/types\";\nimport { getProviderNames } from \"./forecastMaker\";\nimport { SunTimes } from \"./sunrise\";\nimport { ICombinedWeather, IWeatherDay, IWeatherForecast, IWeatherPoint, IWeatherSpan, WeatherIcon } from \"./types\";\n\nexport function createEmptyForecast(location?: ILocation): IWeatherForecast {\n    const now = new Date();\n\n    return {\n        sunTimes: createEmptySunTimes(),\n        hours: createEmptyHours(),\n        days: createEmptyDays(now),\n        providers: getProviderNames(),\n        location: location ? location : { country: \"\", name: \"\", lat: NaN, long: NaN, alt: NaN },\n    };\n}\n\nfunction createEmptySunTimes(): SunTimes {\n    return {\n        sunrise: new Date(),\n        sunset: new Date(),\n    };\n}\n\nfunction createEmptyHours(): IWeatherPoint[] {\n    return listHoursFromNow(24).map((date: Date) => {\n        return {\n            date: date,\n            weather: createEmptyCombinedWeather(),\n        }\n    });\n}\n\nfunction createEmptyDays(start: Date): IWeatherDay[] {\n    return listDaysFromTomorrow(8).map((date: Date, index: number) => {\n        let spans: IWeatherSpan[] = []\n        const year = date.getUTCFullYear();\n        const month = date.getUTCMonth();\n        const day = date.getUTCDate();\n        if (index <= 4) {\n            spans = [\n                {\n                    startDate: new Date(Date.UTC(year, month, day, 0)),\n                    endDate: new Date(Date.UTC(year, month, day, 6)),\n                    weather: createEmptyCombinedWeather(),\n                }, {\n                    startDate: new Date(Date.UTC(year, month, day, 6)),\n                    endDate: new Date(Date.UTC(year, month, day, 12)),\n                    weather: createEmptyCombinedWeather(),\n                }, {\n                    startDate: new Date(Date.UTC(year, month, day, 12)),\n                    endDate: new Date(Date.UTC(year, month, day, 18)),\n                    weather: createEmptyCombinedWeather(),\n                }, {\n                    startDate: new Date(Date.UTC(year, month, day, 18)),\n                    endDate: new Date(Date.UTC(year, month, day, 24)),\n                    weather: createEmptyCombinedWeather(),\n                }\n            ]\n        }\n        else {\n            spans = [\n                {\n                    startDate: new Date(Date.UTC(year, month, day, 0)),\n                    endDate: new Date(Date.UTC(year, month, day, 12)),\n                    weather: createEmptyCombinedWeather(),\n                }, {\n                    startDate: new Date(Date.UTC(year, month, day, 12)),\n                    endDate: new Date(Date.UTC(year, month, day, 24)),\n                    weather: createEmptyCombinedWeather(),\n                }\n            ]\n        }\n\n        return {\n            spans: spans,\n        }\n    });\n}\n\nfunction createEmptyCombinedWeather(): ICombinedWeather {\n    let combined: ICombinedWeather = {};\n\n    getProviderNames().forEach(name => {\n        combined[name] = {\n            temperature: NaN,\n            temperatureMax: NaN,\n            temperatureMin: NaN,\n            wind: NaN,\n            gust: NaN,\n            precipitation: NaN,\n            precipitationUnit: \"\",\n            symbol: WeatherIcon.unknown,\n        }\n    });\n\n    return combined;\n}\n","import { ILocation } from \"../location/types\";\n\nexport interface SunTimeCallback {\n    onSuccess: (sunTimes: SunTimes) => void,\n    onError: (error: Error) => void,\n}\n\nexport interface SunTimes {\n    sunrise: Date,\n    sunset: Date,\n}\n\nexport async function getSunTimes(location: ILocation, callback: SunTimeCallback) {\n    const url = \"https://api.met.no/weatherapi/sunrise/2.0/.json\";\n    const dateString: string = (new Date()).toISOString().split('T')[0];\n\n    const request = url + \"?lat=\" + location.lat + \"&lon=\" + location.long + \"&date=\" + dateString + \"&offset=00:00\";\n\n    const result = await fetch(request);\n\n    if (result.ok) {\n        formatResponse(await result.json(), callback);\n    } else {\n        callback.onError(new Error());\n    }\n}\n\nfunction formatResponse(json: any, callback: SunTimeCallback): void {\n    try {\n        const result: SunTimes = {\n            sunrise: new Date(json.location.time[0].sunrise.time),\n            sunset: new Date(json.location.time[0].sunset.time),\n        }\n        callback.onSuccess(result);\n    } catch (e: unknown) {\n        callback.onError(e as Error);\n    }\n}","import { SunTimes } from \"./sunrise\";\nimport { WeatherIcon } from \"./types\";\n\n\n/**\n * Returns true if a given time is at night.\n */\nexport function isNight(date: Date, sunTimes: SunTimes): boolean {\n    const dateSeconds = dateToTime(date);\n    const sunRiseSeconds = dateToTime(sunTimes.sunrise);\n    const sunSetSeconds = dateToTime(sunTimes.sunset);\n\n    const result = (sunRiseSeconds > dateSeconds || dateSeconds > sunSetSeconds);\n    return result;\n}\n\n/**\n * Returns true if a given time span is at night.\n */\nexport function isSpanNight(start: Date, end: Date, sunTimes: SunTimes) {\n    const date = new Date((start.getTime() + end.getTime()) / 2);\n\n    return isNight(date, sunTimes);\n}\n\n/**\n * Returns the night version of an icon.\n */\nexport function toNight(icon: WeatherIcon): WeatherIcon {\n    switch (icon) {\n        case WeatherIcon.clear_sky_day:\n            return WeatherIcon.clear_sky_night;\n        case WeatherIcon.half_clear_sky_day:\n            return WeatherIcon.half_clear_sky_night;\n        case WeatherIcon.nearly_clear_sky_day:\n            return WeatherIcon.nearly_clear_sky_night;\n    }\n    return icon;\n}\n\n/**\n * Returns the time of the day in seconds\n */\nfunction dateToTime(date: Date): number {\n    return date.getHours() * 60 * 60 + date.getMinutes() * 60 + date.getSeconds() + date.getMilliseconds() * 1000;\n}\n","import { ILocation } from \"../../location/types\";\nimport { SunTimes } from \"../sunrise\";\nimport { IWeatherForecast } from \"../types\";\n\nexport default abstract class AbstractProvider {\n    public name: string;\n\n    protected responseJson: any;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    public canFillForecast(): boolean {\n        return this.responseJson !== undefined;\n    }\n\n    public async fetchForecast(location: ILocation, onSuccess: () => any, onFailure: (error: Error) => any) {\n        try {\n            // Send a request\n            let response = await this.requestData(location.lat.toString(), location.long.toString());\n\n            this.responseJson = await response.json();\n\n        } catch (e: any) {\n            this.responseJson = undefined;\n            \n            console.error(e)\n            onFailure(e);\n            return;\n        }\n\n        onSuccess()\n    }\n\n    public abstract fillForecast(forecast: IWeatherForecast, sunTimes: SunTimes): void;\n\n    protected abstract requestData(lat: string, long: string): Promise<Response>;\n}","import { isNight, isSpanNight, toNight } from \"../iconMaker\";\nimport { IWeatherForecast, WeatherIcon } from \"../types\";\nimport AbstractProvider from \"./abstractProvider\";\n\n\nexport default class MET extends AbstractProvider {\n    constructor() {\n        super(\"Yr\")\n    }\n\n    // Icon list: https://api.met.no/weatherapi/weathericon/2.0/documentation\n    private icons: any = {\n        \"clearsky\": WeatherIcon.clear_sky_day,\n        \"cloudy\": WeatherIcon.cloudy,\n        \"fair\": WeatherIcon.nearly_clear_sky_day,\n        \"fog\": WeatherIcon.fog,\n        \"heavyrain\": WeatherIcon.heavy_rain,\n        \"heavyrainandthunder\": WeatherIcon.thunder,\n        \"heavyrainshowers\": WeatherIcon.heavy_rain,\n        \"heavyrainshowersandthunder\": WeatherIcon.thunder,\n        \"heavysleet\": WeatherIcon.heavy_sleet,\n        \"heavysleetandthunder\": WeatherIcon.thunder,\n        \"heavysleetshowers\": WeatherIcon.heavy_sleet,\n        \"heavysleetshowersandthunder\": WeatherIcon.thunder,\n        \"heavysnow\": WeatherIcon.snow,\n        \"heavysnowandthunder\": WeatherIcon.thunder,\n        \"heavysnowshowers\": WeatherIcon.snow,\n        \"heavysnowshowersandthunder\": WeatherIcon.thunder,\n        \"lightrain\": WeatherIcon.light_rain,\n        \"lightrainandthunder\": WeatherIcon.thunder,\n        \"lightrainshowers\": WeatherIcon.light_rain,\n        \"lightrainshowersandthunder\": WeatherIcon.thunder,\n        \"lightsleet\": WeatherIcon.light_sleet,\n        \"lightsleetandthunder\": WeatherIcon.thunder,\n        \"lightsleetshowers\": WeatherIcon.light_sleet,\n        \"lightsnow\": WeatherIcon.snow,\n        \"lightsnowandthunder\": WeatherIcon.thunder,\n        \"lightsnowshowers\": WeatherIcon.snow,\n        \"lightssleetshowersandthunder\": WeatherIcon.thunder,\n        \"lightssnowshowersandthunder\": WeatherIcon.thunder,\n        \"partlycloudy\": WeatherIcon.half_clear_sky_day,\n        \"rain\": WeatherIcon.moderate_rain,\n        \"rainandthunder\": WeatherIcon.thunder,\n        \"rainshowers\": WeatherIcon.moderate_rain,\n        \"rainshowersandthunder\": WeatherIcon.thunder,\n        \"sleet\": WeatherIcon.moderate_sleet,\n        \"sleetandthunder\": WeatherIcon.thunder,\n        \"sleetshowers\": WeatherIcon.moderate_sleet,\n        \"sleetshowersandthunder\": WeatherIcon.thunder,\n        \"snow\": WeatherIcon.snow,\n        \"snowandthunder\": WeatherIcon.thunder,\n        \"snowshowers\": WeatherIcon.snow,\n        \"snowshowersandthunder\": WeatherIcon.thunder,\n    }\n\n    protected async requestData(lat: string, long: string): Promise<Response> {\n        const result = await fetch('https://api.met.no/weatherapi/locationforecast/2.0/complete?lat='\n            + lat + '&lon=' + long);\n\n        if (!result.ok) {\n            throw new Error(\"Weather response error! status: \" + result.status)\n        }\n\n        return result;\n    }\n\n    public fillForecast(forecast: IWeatherForecast): void {\n        const timeSeries: any[] = this.responseJson.properties.timeseries;\n\n        // --- Fill hours ---\n        let hoursIndex = 0;\n        let timeSeriesIndex = 0;\n        while (hoursIndex < forecast.hours.length && timeSeriesIndex < timeSeries.length) {\n            const timeSerie: any = timeSeries[timeSeriesIndex];\n            const timeSerieDate: Date = new Date(timeSerie.time);\n\n            // If this time serie is to old\n            if (forecast.hours[hoursIndex].date < timeSerieDate) {\n                hoursIndex++;\n                continue;\n            }\n            // If this time serie is not old enough\n            if (forecast.hours[hoursIndex].date > timeSerieDate) {\n                timeSeriesIndex++;\n                continue;\n            }\n\n            let weather = forecast.hours[hoursIndex].weather[this.name];\n\n            let symbol_str: string;\n            let precipitation: number;\n            if (timeSerie.data.next_1_hours) {\n                symbol_str = timeSerie.data.next_1_hours.summary.symbol_code;\n                precipitation = timeSerie.data.next_1_hours.details.precipitation_amount;\n            }\n            else if (timeSerie.data.next_6_hours) {\n                symbol_str = timeSerie.data.next_6_hours.summary.symbol_code;\n                precipitation = timeSerie.data.next_6_hours.details.precipitation_amount;\n            }\n            else if (timeSerie.data.next_12_hours) {\n                symbol_str = timeSerie.data.next_12_hours.summary.symbol_code;\n                precipitation = timeSerie.data.next_12_hours.details.precipitation_amount;\n            }\n            else {\n                continue;\n            }\n\n            // Remove _day or _night\n            symbol_str = symbol_str.split(\"_\")[0];\n\n            let symbol = this.icons[symbol_str] || WeatherIcon.unknown;\n            if (isNight(timeSerieDate, forecast.sunTimes)) {\n                symbol = toNight(symbol);\n            }\n\n            if (symbol === WeatherIcon.unknown) {\n                console.warn(\"Unknown symbol\", symbol_str)\n            }\n\n            weather.temperature = timeSerie.data.instant.details.air_temperature;\n            weather.wind = timeSerie.data.instant.details.wind_speed;\n            weather.gust = timeSerie.data.instant.details.wind_speed_of_gust;\n            weather.precipitation = precipitation;\n            weather.precipitationUnit = \"mm\";\n            weather.symbol = symbol;\n\n            timeSeriesIndex++;\n            hoursIndex++;\n        }\n\n        // --- Fill days ---\n        timeSeriesIndex = 0;\n        for (let i = 0; i < forecast.days.length; i++) {\n            const day = forecast.days[i];\n            for (let j = 0; j < day.spans.length; j++) {\n\n                if (timeSeriesIndex >= timeSeries.length) {\n                    break;\n                }\n\n                const span = day.spans[j];\n                const timeSerie = timeSeries[timeSeriesIndex];\n                const timeSerieDate: Date = new Date(timeSerie.time);\n\n                // If this time serie is to old\n                if (span.startDate < timeSerieDate) {\n                    continue;\n                }\n                // If this time serie is not old enough\n                if (span.startDate > timeSerieDate) {\n                    timeSeriesIndex++;\n                    j--;\n                    continue;\n                }\n\n                let weather = span.weather[this.name];\n\n                // Get span length in hours\n                const spanLength = (span.endDate.getTime() - span.startDate.getTime()) / (1000 * 60 * 60);\n\n                let symbol_str: string;\n                let precipitation: number;\n                let minTemp: number;\n                let maxTemp: number;\n                if (spanLength === 6) {\n                    symbol_str = timeSerie.data.next_6_hours.summary.symbol_code;\n                    precipitation = timeSerie.data.next_6_hours.details.precipitation_amount;\n                    minTemp = timeSerie.data.next_6_hours.details.air_temperature_min;\n                    maxTemp = timeSerie.data.next_6_hours.details.air_temperature_max;\n                }\n                else if (spanLength === 12) {\n                    const nextTimeSerie = timeSeries[timeSeriesIndex + 1];\n\n                    symbol_str = timeSerie.data.next_12_hours.summary.symbol_code;\n\n                    const pThis = timeSerie.data.next_6_hours.details.precipitation_amount;\n                    const pNext = nextTimeSerie.data.next_6_hours.details.precipitation_amount;\n\n                    precipitation = Math.round(10 * ((pThis + pNext) / 12)) / 10;\n\n                    minTemp = Math.min(timeSerie.data.next_6_hours.details.air_temperature_min, nextTimeSerie.data.next_6_hours.details.air_temperature_min);\n                    maxTemp = Math.max(timeSerie.data.next_6_hours.details.air_temperature_max, nextTimeSerie.data.next_6_hours.details.air_temperature_max);\n                }\n                else {\n                    console.warn(\"Unknown span length\", spanLength)\n                    timeSeriesIndex++;\n                    continue;\n                }\n\n                // Remove _day or _night\n                symbol_str = symbol_str.split(\"_\")[0];\n\n                let symbol = this.icons[symbol_str] || WeatherIcon.unknown;\n                if (isSpanNight(span.startDate, span.endDate, forecast.sunTimes)) {\n                    symbol = toNight(symbol);\n                }\n\n                if (symbol === WeatherIcon.unknown) {\n                    console.warn(\"Unknown symbol\", symbol_str)\n                }\n\n                weather.temperature = (maxTemp + minTemp) / 2;\n                weather.temperatureMax = maxTemp;\n                weather.temperatureMin = minTemp;\n                weather.wind = timeSerie.data.instant.details.wind_speed; // TODO: Find max wind speed\n                weather.gust = timeSerie.data.instant.details.wind_speed_of_gust; // TODO: Find max gust speed\n                weather.precipitation = precipitation;\n                weather.precipitationUnit = \"mm\";\n                weather.symbol = symbol;\n\n                timeSeriesIndex++;\n            }\n        }\n    }\n}","import { isNight, isSpanNight, toNight } from \"../iconMaker\";\nimport { SunTimes } from \"../sunrise\";\nimport { IWeather, IWeatherForecast, WeatherIcon } from \"../types\";\nimport AbstractProvider from \"./abstractProvider\";\n\n\nexport default class SMHI extends AbstractProvider {\n    constructor() {\n        super(\"SMHI\")\n    }\n\n    // Weather parameter descriptions can be found at:\n    // https://opendata.smhi.se/apidocs/metfcst/parameters.html#parameter-table\n    private icons = {\n        1: WeatherIcon.clear_sky_day,        // Clear sky\n        2: WeatherIcon.nearly_clear_sky_day, // Nearly clear sky\n        3: WeatherIcon.half_clear_sky_day,   // Variable cloudiness\n        4: WeatherIcon.half_clear_sky_day,   // Half clear sky\n        5: WeatherIcon.cloudy,               // Cloudy sky\n        6: WeatherIcon.cloudy,               // Overcast\n        7: WeatherIcon.fog,                  // Fog\n        8: WeatherIcon.light_rain,           // Light rain showers\n        9: WeatherIcon.moderate_rain,        // Moderate rain showers\n        10: WeatherIcon.heavy_rain,          // Heavy rain showers\n        11: WeatherIcon.thunder,             // Thunderstorm\n        12: WeatherIcon.light_sleet,         // Light sleet showers\n        13: WeatherIcon.moderate_sleet,      // Moderate sleet showers\n        14: WeatherIcon.heavy_sleet,         // Heavy sleet showers\n        15: WeatherIcon.snow,                // Light snow showers\n        16: WeatherIcon.snow,                // Moderate snow showers\n        17: WeatherIcon.snow,                // Heavy snow showers\n        18: WeatherIcon.light_rain,          // Light rain\n        19: WeatherIcon.moderate_rain,       // Moderate rain\n        20: WeatherIcon.heavy_rain,          // Heavy rain\n        21: WeatherIcon.thunder,             // Thunder\n        22: WeatherIcon.light_sleet,         // Light sleet\n        23: WeatherIcon.moderate_sleet,      // Moderate sleet\n        24: WeatherIcon.heavy_sleet,         // Heavy sleet\n        25: WeatherIcon.snow,                // Light snowfall\n        26: WeatherIcon.snow,                // Moderate snowfall\n        27: WeatherIcon.snow,                // Heavy snowfall\n    }\n\n    private getIcon(value: never): WeatherIcon {\n        let icon = this.icons[value];\n        if (!icon) {\n            console.warn(\"Unknown symbol value\", value)\n            return WeatherIcon.unknown;\n        }\n        return icon;\n    }\n\n    protected async requestData(lat: string, long: string): Promise<Response> {\n        const max = 9; // the maximum precision allowed by the api (including decimal point)\n        const result = await fetch('https://opendata-download-metfcst.smhi.se/api/category/pmp3g/version/2/geotype/point/lon/'\n            + long.substr(0, max) + '/lat/' + lat.substr(0, max) + '/data.json');\n\n        if (!result.ok) {\n            throw new Error(\"Weather response error! status: ' + result.status\")\n        }\n\n        return result;\n    }\n\n    public fillForecast(forecast: IWeatherForecast): void {\n        const timeSeries: [] = this.responseJson['timeSeries'];\n\n        // --- Fill hours ---\n        let hoursIndex = 0;\n        let timeSeriesIndex = 0;\n        while (hoursIndex < forecast.hours.length && timeSeriesIndex < timeSeries.length) {\n            const timeSerie: any = timeSeries[timeSeriesIndex];\n            const timeSerieDate = new Date(timeSerie.validTime);\n\n            // If this time serie is to old\n            if (forecast.hours[hoursIndex].date < timeSerieDate) {\n                hoursIndex++;\n                continue;\n            }\n            // If this time serie is not old enough\n            if (forecast.hours[hoursIndex].date > timeSerieDate) {\n                timeSeriesIndex++;\n                continue;\n            }\n\n            const parameters: any[] = timeSerie.parameters;\n\n            let weather = forecast.hours[hoursIndex].weather[this.name];\n\n            //fillSingleWeather(parameters, weather);\n\n            weather.temperature = parameters.find(e => e.name === \"t\").values[0];\n            weather.precipitation = parameters.find(e => e.name === \"pmean\").values[0];\n            weather.precipitationUnit = \"mm\";\n            weather.wind = parameters.find(e => e.name === \"ws\").values[0];\n            weather.gust = parameters.find(e => e.name === \"gust\").values[0];\n            weather.symbol = this.getIcon(parameters.find(e => e.name === \"Wsymb2\").values[0] as never)\n\n            if (isNight(timeSerieDate, forecast.sunTimes)) {\n                weather.symbol = toNight(weather.symbol);\n            }\n\n            hoursIndex++;\n            timeSeriesIndex++;\n        }\n\n        // --- Fill days ---\n        timeSeriesIndex = 0;\n        for (let i = 0; i < forecast.days.length; i++) {\n            const day = forecast.days[i];\n            for (let j = 0; j < day.spans.length; j++) {\n\n                const span = day.spans[j];\n                const timeSerie: any = timeSeries[timeSeriesIndex];\n                const timeSerieDate: Date = new Date(timeSerie.validTime);\n\n                // If this time serie is to old\n                if (span.startDate < timeSerieDate) {\n                    continue;\n                }\n                // If this time serie is not old enough\n                if (span.startDate > timeSerieDate) {\n                    timeSeriesIndex++;\n                    j--;\n                    continue;\n                }\n\n                let weather = span.weather[this.name];\n\n                const iconDate = new Date((span.startDate.getTime() + span.endDate.getTime()) / 2);\n\n                timeSeriesIndex = this.sumWeather(timeSeries, timeSeriesIndex, span.endDate, iconDate, weather, forecast.sunTimes);\n            }\n        }\n    }\n\n    /**\n     * Sums the weather in a time series from an index up to an end date.\n     * The weather will be added to the given weather object.\n     * The index of the end date will be returned.\n     * @returns Index of the end date.\n     */\n    private sumWeather(timeSeries: any[], startIndex: number, endDate: Date, symbolDate: Date, weather: IWeather, sunTimes: SunTimes): number {\n        let index = startIndex;\n\n        let totalPrecipitation = 0;\n        let minTemp: number = NaN;\n        let maxTemp: number = NaN;\n        let maxWind: number = 0;\n        let maxGust: number = 0;\n        let symbols: { [key: number]: number } = {}\n\n        while (index < timeSeries.length) {\n            const timeSerie = timeSeries[index];\n            const timeSerieDate: Date = new Date(timeSerie.validTime);\n\n            if (timeSerieDate > endDate) {\n                index--\n                break;\n            }\n\n            const parameters: any[] = timeSerie.parameters;\n\n            // Precipitation\n            totalPrecipitation += parameters.find(e => e.name === \"pmean\").values[0];\n\n            // Temperature\n            const temp = parameters.find(e => e.name === \"t\").values[0];\n            if (isNaN(minTemp) || temp < minTemp) {\n                minTemp = temp;\n            }\n            if (isNaN(maxTemp) || temp > maxTemp) {\n                maxTemp = temp;\n            }\n            // Wind\n            const wind = parameters.find(e => e.name === \"ws\").values[0];\n            if (wind > maxWind) {\n                maxWind = wind;\n            }\n            // Gust\n            const gust = parameters.find(e => e.name === \"gust\").values[0];\n            if (gust > maxGust) {\n                maxGust = gust;\n            }\n            //= parameters.find(e => e.name === \"pmean\").values[0];\n            //= parameters.find(e => e.name === \"ws\").values[0];\n            //= parameters.find(e => e.name === \"gust\").values[0];\n            //= this.getIcon(parameters.find(e => e.name === \"Wsymb2\").values[0] as never, timeSerieDate)\n\n            const symbol: number = parameters.find(e => e.name === \"Wsymb2\").values[0];\n            if (symbol in symbols) {\n                symbols[symbol] += 1;\n            } else {\n                symbols[symbol] = 1;\n            }\n\n            index++;\n        }\n\n        weather.precipitation = Math.round(10 * totalPrecipitation) / 10;\n        weather.precipitationUnit = \"mm\";\n        weather.temperatureMax = maxTemp;\n        weather.temperatureMin = minTemp;\n        weather.temperature = (maxTemp + minTemp) / 2;\n        weather.wind = maxWind;\n        weather.gust = maxGust;\n\n        let maxSymbolCount = 0;\n        let maxSymbol = \"\";\n        for (let symbol in symbols) {\n            const symbolCount = symbols[symbol];\n            if (symbolCount > maxSymbolCount) {\n                maxSymbolCount = symbolCount;\n                maxSymbol = symbol;\n            }\n        }\n\n        weather.symbol = this.getIcon(maxSymbol as never);\n\n        if (isSpanNight(new Date(timeSeries[startIndex].validTime), endDate, sunTimes)) {\n            weather.symbol = toNight(weather.symbol);\n        }\n\n        return index;\n    }\n}\n","import { createEmptyForecast } from \"./emptyForecast\";\nimport { ILocation } from \"../location/types\";\nimport { getSunTimes, SunTimeCallback, SunTimes } from \"./sunrise\";\nimport { IWeatherForecast } from \"./types\";\nimport AbstractProvider from \"./weatherProviders/abstractProvider\";\nimport MET from \"./weatherProviders/MET\";\nimport SMHI from \"./weatherProviders/SMHI\";\n\nconst weatherProviders: AbstractProvider[] = [new SMHI(), new MET()];\n\n/**\n * Returns an array with the name of the weather providers\n */\nexport function getProviderNames(): string[] {\n    return weatherProviders.map((provider) => { return provider.name });\n}\n\nexport interface forecastCallback {\n    onSuccess: (forecast: IWeatherForecast) => void,\n}\n\n/**\n * Makes a new forecast that is returned with a callback.\n * @param location Location for the forecast.\n * @param callback Callback when done.\n */\nexport async function newForecast(location: ILocation, callback: forecastCallback): Promise<void> {\n    /**\n     * Create an empty forecast. Fetch the sun times. Also make each weather provider fetch weather data.\n     * When the provider has gotten its response, let that provider fill in its data in the forecast.\n     * If the fetch request for a weather provider is done before the sun times. The provider will be put\n     * in a waiting list and fills in the weather data when the sun times has been fetched.\n     */\n\n    const forecast = createEmptyForecast(location);\n\n    let sunTimesDone = false;\n    let sunTimes: SunTimes;\n\n    let remainingProviders = weatherProviders.length; // Number of providers waiting for a fetch response.\n    let waitingProviders: AbstractProvider[] = [];\n\n    const onProviderResponse = (provider: AbstractProvider) => {\n        if (!sunTimesDone) {\n            waitingProviders.push(provider);\n            return;\n        }\n\n        if (provider.canFillForecast()) {\n            provider.fillForecast(forecast, sunTimes)\n        }\n\n        remainingProviders--;\n        if (remainingProviders === 0) {\n            callback.onSuccess(forecast);\n        }\n    };\n\n    const onSunTimesResponse = (sunTimesResponse: SunTimes) => {\n        sunTimes = sunTimesResponse;\n        sunTimesDone = true;\n\n        forecast.sunTimes = sunTimesResponse;\n\n        waitingProviders.forEach(provider => {\n            onProviderResponse(provider);\n        });\n    };\n\n    const sunTimeCallback: SunTimeCallback = {\n        onSuccess: (response: SunTimes) => {\n            onSunTimesResponse(response);\n        },\n        onError: (error: Error) => {\n            onSunTimesResponse({ sunrise: new Date(), sunset: new Date() });\n        },\n    };\n\n    // Start sun times fetch request.\n    getSunTimes(location, sunTimeCallback);\n\n    // Start provider fetch requests.\n    weatherProviders.forEach(provider => {\n        provider.fetchForecast(\n            location,\n            () => { onProviderResponse(provider) },\n            (error: Error) => { onProviderResponse(provider) }\n        );\n    });\n}\n\n","import { ForecastActionTypes, FORECAST_FETCH_START, FORECAST_FETCH_SUCCESS, FORECAST_FETCH_FAILURE } from \"./types\";\nimport { Dispatch } from \"redux\";\nimport { ILocation } from \"../../location/types\";\nimport { IWeatherForecast } from \"../../weather/types\";\nimport { forecastCallback, newForecast } from \"../../weather/forecastMaker\";\n\nfunction searchStart(): ForecastActionTypes {\n    return {\n        type: FORECAST_FETCH_START,\n    }\n}\n\nfunction searchSuccess(forecast: IWeatherForecast): ForecastActionTypes {\n    return {\n        type: FORECAST_FETCH_SUCCESS,\n        forecast: forecast,\n    }\n}\n\nfunction searchFailure(errorMessage: string): ForecastActionTypes {\n    return {\n        type: FORECAST_FETCH_FAILURE,\n        errorMessage: errorMessage,\n    }\n}\n\nexport const fetchForecasts = (location: ILocation) => async (dispatch: Dispatch) => {\n    const callback: forecastCallback = {\n        onSuccess: (forecast: IWeatherForecast) => dispatch(searchSuccess(forecast)),\n    }\n\n    dispatch(searchStart());\n    newForecast(location, callback);\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { selectLocation } from \"../../../store/locationSearch/actions\";\nimport { AppState } from \"../../../store\";\nimport LocationSearchItem from \"../LocationSearchItem\";\nimport { Divider } from \"antd\";\nimport { fetchForecasts } from \"../../../store/forecasts/actions\";\nimport \"./style.css\";\nimport { ILocation } from \"../../../location/types\";\n\ninterface ILocationSearchListProps {\n    showUserLocation: boolean,\n    userLocation?: ILocation,\n    selectLocation: (location: ILocation) => void,\n    fetchForecasts: (location: ILocation) => void,\n    onSelect: () => void,\n    locationResults: ILocation[],\n    selectedLocation?: ILocation,\n}\n\nclass LocationSearchList extends React.Component<ILocationSearchListProps>{\n\n    private onLocationSelect(location: ILocation): void {\n        // Select location and fetch forecast if it is a new location\n        if (location.country !== this.props.selectedLocation?.country) {\n            this.props.selectLocation(location);\n            this.props.fetchForecasts(location);\n        }\n        this.props.onSelect();\n    }\n\n    render() {\n        return (\n            <div className=\"location-list\">\n                {this.props.showUserLocation && this.props.userLocation &&\n                    <React.Fragment>\n                        <LocationSearchItem location={this.props.userLocation} onSelect={location => this.onLocationSelect(location)} />\n                        <Divider style={{ margin: 0 }} />\n                    </React.Fragment>\n                }\n                {this.props.locationResults.map((location, index) =>\n                    <React.Fragment key={index}>\n                        <LocationSearchItem location={location} onSelect={location => this.onLocationSelect(location)} />\n                        <Divider style={{ margin: 0 }} />\n                    </React.Fragment>\n                )}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        userLocation: state.locationSearch.userLocation,\n        locationResults: state.locationSearch.geocodeResults,\n        selectedLocation: state.locationSearch.selectedLocation,\n    }\n}\n\nfunction mapDispatchToProps(dispatch: any) { // TODO: Fix any type\n    return {\n        selectLocation: (location: ILocation) => dispatch(selectLocation(location)),\n        fetchForecasts: (location: ILocation) => dispatch(fetchForecasts(location)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LocationSearchList);","import { Button, Divider, Input, Spin } from \"antd\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { SearchOutlined } from '@ant-design/icons';\nimport { AppState } from \"../../../store\";\nimport LocationSearchList from \"../LocationSearchList\";\nimport './style.css';\nimport { geocode } from \"../../../store/locationSearch/actions\";\n\ninterface ILocationSearchProps {\n    searchLocations: (searchTerm: string) => void,\n    isLoading: boolean,\n    close: () => void,\n}\n\ninterface ILocationSearchState {\n    showUserPosition: boolean,\n}\n\nclass LocationSearch extends React.Component<ILocationSearchProps, ILocationSearchState>{\n    constructor(props: Readonly<ILocationSearchProps>) {\n        super(props)\n\n        this.state = {\n            showUserPosition: true,\n        }\n    }\n\n    private onChange(text: string) {\n        this.props.searchLocations(text);\n\n        const show = text.length === 0;\n\n        if (show !== this.state.showUserPosition) {\n            this.setState({\n                ...this.state,\n                showUserPosition: show,\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"search\">\n                <div className=\"search-bar\">\n                    <Input\n                        className=\"search-input\"\n                        size=\"large\"\n                        bordered={false}\n                        placeholder=\"Sök\"\n                        autoFocus\n                        allowClear\n                        prefix={<SearchOutlined />}\n                        onChange={value => this.onChange(value.target.value)}\n                    />\n                    <Button className=\"search-cancel-button\" size=\"large\" ghost onClick={() => this.props.close()}>Avbryt</Button>\n                </div>\n                <Divider style={{ margin: 0 }} />\n                {this.props.isLoading ?\n                    <Spin className=\"location-search-spin\" />\n                    :\n                    <LocationSearchList onSelect={() => this.props.close()} showUserLocation={this.state.showUserPosition} />\n                }\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        isLoading: state.locationSearch.geocodeIsLoading,\n    }\n}\n\n\nfunction mapDispatchToProps(dispatch: any) { // TODO: Fix any type\n    return {\n        searchLocations: (searchTerm: string) => dispatch(geocode(searchTerm)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LocationSearch);","import React from \"react\";\nimport './style.css';\nimport { Button, Divider, Typography } from \"antd\";\n\nconst { Title } = Typography;\n\ninterface IHeaderProps {\n    backButton?: () => void,\n    backButtonName?: string;\n    title: string;\n}\n\nexport default class Header extends React.Component<IHeaderProps>{\n    render() {\n        return (\n            <div className=\"header-container\">\n                <div className=\"header-grid\">\n                    <Title className=\"header-title\" level={5}>\n                        {this.props.title}\n                    </Title>\n                    {this.props.backButton &&\n                        <Button\n                            className=\"header-back-button\"\n                            onClick={() => this.props.backButton ? this.props.backButton() : {}}\n                            size=\"large\"\n                            ghost\n                        >\n                            {this.props.backButtonName}\n                        </Button>\n                    }\n                </div>\n                <Divider className=\"header-divider\" />\n            </div>\n        );\n    }\n}\n","\nexport interface ISettingsState {\n    themeMode: ThemeModeTypes,\n    systemTheme: ThemeTypes,\n    theme: ThemeTypes,\n    showGust: boolean,\n    showMinMaxTemp: boolean,\n}\n\nexport type SettingTypes = {\n    [key in keyof ISettingsState]?: ISettingsState[key];\n};\n\n// Theme mode\n\nexport type ThemeModeTypes = \"light\" | \"dark\" | \"system\";\n\nexport const UPDATE_THEME_MODE = \"UPDATE_THEME_MODE\";\n\ninterface IThemeModeAction {\n    type: typeof UPDATE_THEME_MODE,\n    themeMode: ThemeModeTypes,\n}\n\n\n// Theme\nexport type ThemeTypes = \"light\" | \"dark\";\n\n// System theme\n\nexport const UPDATE_SYSTEM_THEME = \"UPDATE_SYSTEM_THEME\";\n\ninterface IUpdateSystemThemeAction {\n    type: typeof UPDATE_SYSTEM_THEME,\n    systemTheme: ThemeTypes,\n}\n\n\n\n// Settings\nexport const UPDATE_SETTING = \"UPDATE_SETTING\";\n\ninterface IUpdateSetting {\n    type: typeof UPDATE_SETTING,\n    setting: SettingTypes,\n}\n\n\nexport type SettingsActionTypes = IThemeModeAction | IUpdateSystemThemeAction | IUpdateSetting;\n","import React from \"react\";\nimport './style.css';\nimport { connect } from \"react-redux\";\nimport { AppState } from \"../../../store\";\nimport Header from \"../../atoms/Header\";\nimport { Divider, Radio, Space, Switch, Typography } from \"antd\";\nimport { SettingTypes, ThemeModeTypes } from \"../../../store/settings/types\";\nimport { updateSetting as updateSettings, updateThemeMode } from \"../../../store/settings/actions\";\n\nconst { Text } = Typography;\n\ninterface ISettingsPageProps {\n    theme: ThemeModeTypes,\n    showGust: boolean,\n    showMinMaxTemp: boolean,\n    updateThemeMode: (theme: ThemeModeTypes) => void,\n    updateSettings: (setting: SettingTypes) => void,\n    close: () => void,\n}\n\n\nclass SettingsPage extends React.Component<ISettingsPageProps>{\n    private onThemeChange(value: number) {\n        switch (value) {\n            case 1:\n                this.props.updateThemeMode(\"light\");\n                break;\n            case 2:\n                this.props.updateThemeMode(\"dark\");\n                break;\n            case 3:\n                this.props.updateThemeMode(\"system\");\n                break;\n        }\n    }\n\n    render() {\n        let themeValue;\n        switch (this.props.theme) {\n            case \"light\":\n                themeValue = 1;\n                break;\n            case \"dark\":\n                themeValue = 2;\n                break;\n            case \"system\":\n                themeValue = 3;\n                break;\n        }\n\n        return (\n            <div className=\"settings-page\">\n                <Header title=\"Inställningar\" backButton={() => this.props.close()} backButtonName=\"Klar\" />\n\n                <div className=\"settings-content\">\n                    <div>\n                        <Text className=\"settings-options-title\" type=\"secondary\" strong>Utseende</Text>\n                        <Divider />\n                        <Radio.Group className=\"settings-options\" value={themeValue} onChange={(e) => this.onThemeChange(e.target.value)}>\n                            <Space direction=\"vertical\">\n                                <Radio value={1}>Ljust</Radio>\n                                <Divider />\n                                <Radio value={2}>Mörkt</Radio>\n                                <Divider />\n                                <Radio value={3}>Följ System</Radio>\n                            </Space>\n                        </Radio.Group>\n                        <Divider />\n\n                        <Text className=\"settings-options-title\" type=\"secondary\" strong>Väder</Text>\n                        <Divider />\n                        <div className=\"settings-options\">\n                            <Space direction=\"vertical\">\n                                <div className=\"settings-row\">\n                                    <Text>Visa min/max temperatur</Text>\n                                    <Switch checked={this.props.showMinMaxTemp} onChange={(status) => this.props.updateSettings({ showMinMaxTemp: status })} />\n                                </div>\n                                <Divider />\n                                <div className=\"settings-row\">\n                                    <Text>Visa byvind</Text>\n                                    <Switch checked={this.props.showGust} onChange={(status) => this.props.updateSettings({ showGust: status })} />\n                                </div>\n                            </Space>\n                        </div>\n                        <Divider />\n                    </div>\n\n                    <a id=\"privacy-policy\" href=\"https://regnkollen.se/privacy-policy.html\" target=\"_blank\" rel=\"noreferrer\">privacy policy</a >\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        theme: state.settings.themeMode,\n        showGust: state.settings.showGust,\n        showMinMaxTemp: state.settings.showMinMaxTemp,\n    }\n}\n\nfunction mapDispatchToProps(dispatch: any) { // TODO: Fix any type\n    return {\n        updateThemeMode: (theme: ThemeModeTypes) => dispatch(updateThemeMode(theme)),\n        updateSettings: (setting: SettingTypes) => dispatch(updateSettings(setting)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsPage);\n","var _metadata;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSunrise(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"27.043mm\",\n    height: \"19.318mm\",\n    viewBox: \"0 0 27.043 19.318\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _metadata || (_metadata = /*#__PURE__*/React.createElement(\"metadata\", null, /*#__PURE__*/React.createElement(\"rdfRDF\", null, /*#__PURE__*/React.createElement(\"ccWork\", null, /*#__PURE__*/React.createElement(\"dcformat\", null, \"image/svg+xml\"))))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(267.35 -206.24)\",\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.5 0 0 1 -395.11 104.26)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.5 0 0 1 -414.16 104.26)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.35355 .35355 -.70711 .70711 -284.41 25.175)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(-.35355 .35355 -.70711 -.70711 -57.66 190.76)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-266.53 224.75h25.4\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 1.6203,\n    style: {\n      paintOrder: \"normal\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-253.83 215.52a5.8207 5.8208 0 0 0-5.8208 5.8208 5.8207 5.8208 0 0 0 0.22167 1.587h11.194a5.8207 5.8208 0 0 0 0.22582-1.587 5.8207 5.8208 0 0 0-5.8203-5.8208z\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 0.79375,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-253.84 206.24a0.81024 0.81024 0 0 0-0.56277 0.2367l-1.0583 1.0583a0.81024 0.81024 0 0 0-0.0692 0.076l-1.1958 1.1958a0.8102 0.4051 45 1 0 1.1452 1.1451l0.94207-0.94205v2.2774a0.81024 0.81024 0 0 0 0 0.0806v2.0366a0.8102 0.4051 0 1 0 1.619 0v-3.176a0.8102 0.4051 0 0 0 0-0.0201v-1.201l0.94414 0.94414a0.4051 0.8102 45 1 0 1.1452-1.1451l-1.2077-1.2077a0.81024 0.81024 0 0 0-0.0594-0.0636l-1.0583-1.0583a0.81024 0.81024 0 0 0-0.58394-0.23669z\",\n    color: \"currentColor\",\n    colorRendering: \"auto\",\n    dominantBaseline: \"auto\",\n    imageRendering: \"auto\",\n    shapeRendering: \"auto\",\n    \"solid-color\": \"currentColor\",\n    style: {\n      fontFeatureSettings: \"normal\",\n      fontVariantAlternates: \"normal\",\n      fontVariantCaps: \"normal\",\n      fontVariantLigatures: \"normal\",\n      fontVariantNumeric: \"normal\",\n      fontVariantPosition: \"normal\",\n      isolation: \"auto\",\n      mixBlendMode: \"normal\",\n      paintOrder: \"markers fill stroke\",\n      shapePadding: 0,\n      textDecorationColor: \"currentColor\",\n      textDecorationLine: \"none\",\n      textDecorationStyle: \"solid\",\n      textIndent: 0,\n      textOrientation: \"mixed\",\n      textTransform: \"none\",\n      whiteSpace: \"normal\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSunrise);\nexport default __webpack_public_path__ + \"static/media/sunrise.0598d674.svg\";\nexport { ForwardRef as ReactComponent };","import { SettingTypes, ThemeModeTypes, ThemeTypes, UPDATE_SETTING, UPDATE_SYSTEM_THEME, UPDATE_THEME_MODE } from './types';\n\n\nexport function updateThemeMode(themeMode: ThemeModeTypes) {\n    return {\n        type: UPDATE_THEME_MODE,\n        themeMode: themeMode,\n    }\n}\n\nexport function updateSystemTheme(systemTheme: ThemeTypes) {\n    return {\n        type: UPDATE_SYSTEM_THEME,\n        systemTheme: systemTheme,\n    }\n}\n\nexport function updateSetting(setting: SettingTypes) {\n    return {\n        type: UPDATE_SETTING,\n        setting: setting,\n    }\n}\n","var _metadata;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSunset(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"27.043mm\",\n    height: \"19.318mm\",\n    viewBox: \"0 0 27.043 19.318\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _metadata || (_metadata = /*#__PURE__*/React.createElement(\"metadata\", null, /*#__PURE__*/React.createElement(\"rdfRDF\", null, /*#__PURE__*/React.createElement(\"ccWork\", null, /*#__PURE__*/React.createElement(\"dcFormat\", null, \"image/svg+xml\"))))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(291.71 -197.38)\",\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-278.19 206.66a5.8207 5.8208 0 0 0-5.8208 5.8208 5.8207 5.8208 0 0 0 0.22167 1.587h11.194a5.8207 5.8208 0 0 0 0.22582-1.587 5.8207 5.8208 0 0 0-5.8203-5.8208z\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 0.79375,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.5 0 0 1 -419.48 95.401)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.5 0 0 1 -438.53 95.401)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(.35355 .35355 -.70711 .70711 -308.78 16.318)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    transform: \"matrix(-.35355 .35355 -.70711 -.70711 -82.024 181.9)\",\n    d: \"m298.45 117.08h6.35\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeWidth: 1.6202,\n    style: {\n      paintOrder: \"markers fill stroke\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-290.89 215.89h25.4\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 1.6203,\n    style: {\n      paintOrder: \"normal\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-278.2 204.97a0.81024 0.81024 0 0 1-0.56277-0.2367l-1.0583-1.0583a0.81024 0.81024 0 0 1-0.0692-0.076l-1.1958-1.1958a0.4051 0.8102 45 1 1 1.1452-1.1451l0.94207 0.94205v-2.2774a0.81024 0.81024 0 0 1 0-0.0806v-2.0366a0.8102 0.4051 0 1 1 1.619 0v3.176a0.8102 0.4051 0 0 1 0 0.0201v1.201l0.94414-0.94414a0.8102 0.4051 45 1 1 1.1452 1.1451l-1.2077 1.2077a0.81024 0.81024 0 0 1-0.0594 0.0636l-1.0583 1.0583a0.81024 0.81024 0 0 1-0.58394 0.23669z\",\n    color: \"currentColor\",\n    colorRendering: \"auto\",\n    dominantBaseline: \"auto\",\n    imageRendering: \"auto\",\n    shapeRendering: \"auto\",\n    \"solid-color\": \"currentColor\",\n    style: {\n      fontFeatureSettings: \"normal\",\n      fontVariantAlternates: \"normal\",\n      fontVariantCaps: \"normal\",\n      fontVariantLigatures: \"normal\",\n      fontVariantNumeric: \"normal\",\n      fontVariantPosition: \"normal\",\n      isolation: \"auto\",\n      mixBlendMode: \"normal\",\n      paintOrder: \"markers fill stroke\",\n      shapePadding: 0,\n      textDecorationColor: \"currentColor\",\n      textDecorationLine: \"none\",\n      textDecorationStyle: \"solid\",\n      textIndent: 0,\n      textOrientation: \"mixed\",\n      textTransform: \"none\",\n      whiteSpace: \"normal\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSunset);\nexport default __webpack_public_path__ + \"static/media/sunset.dacbfc7d.svg\";\nexport { ForwardRef as ReactComponent };","import { Typography } from \"antd\";\nimport Icon from \"@ant-design/icons\";\nimport {ReactComponent as SunRise} from \"../../../icons3/sunrise.svg\";\nimport {ReactComponent as SunSet} from \"../../../icons3/sunset.svg\";\nimport './style.css';\nimport { SunTimes } from \"../../../weather/sunrise\";\nimport { AppState } from \"../../../store\";\nimport { connect } from \"react-redux\";\n\nconst { Text } = Typography;\n\ninterface Props {\n    sunTimes: SunTimes,\n}\n\nconst SunTimesText = (props: Props) => (\n    <div className=\"sun-times-container\">\n        <div className=\"sun-times-column\">\n            <Icon className=\"sun-time-icon\" component={SunRise}/>\n            <Text type=\"secondary\">{formatTime(props.sunTimes.sunrise)}</Text>\n        </div>\n        <div className=\"sun-times-column\">\n            <Icon className=\"sun-time-icon\" component={SunSet}/>\n            <Text type=\"secondary\">{formatTime(props.sunTimes.sunset)}</Text>\n        </div>\n    </div >\n);\n\nfunction formatTime(time: Date): string {\n    return time.getHours().toString().padStart(2, '0') + ':' + time.getMinutes().toString().padStart(2, '0');\n}\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        sunTimes: state.forecasts.forecast.sunTimes,\n    }\n}\n\nexport default connect(mapStateToProps)(SunTimesText);","import React from \"react\";\nimport WeatherTableList from \"../../weather/WeatherTableList\";\nimport LocationSearch from \"../../location/LocationSearch\";\nimport { Button, Spin, Typography } from 'antd';\nimport { SearchOutlined, SettingOutlined } from '@ant-design/icons';\nimport './style.css';\nimport { connect } from \"react-redux\";\nimport { requestUserPosition, selectUserLocation } from \"../../../store/locationSearch/actions\";\nimport { AppState } from \"../../../store\";\nimport { ILocation } from \"../../../location/types\";\nimport SettingsPage from \"../SettingsPage\";\nimport { fetchForecasts } from \"../../../store/forecasts/actions\";\nimport { updateSystemTheme } from \"../../../store/settings/actions\";\nimport { ThemeTypes } from \"../../../store/settings/types\";\nimport SunTimes from \"../../weather/SunTimes\";\n\nconst { Title } = Typography;\n\ninterface IWeatherPageProps {\n    selectedLocation: ILocation,\n    weatherIsLoading: boolean,\n    findUserPosition: (onSuccess?: (location: ILocation) => void) => void,\n    selectUserLocation: () => void,\n    fetchForecasts: (location: ILocation) => void,\n    updateSystemTheme: (systemTheme: ThemeTypes) => void,\n}\n\ninterface IWeatherPageState {\n    showLocationSearch: boolean,\n    showSettingsPage: boolean,\n}\n\nclass WeatherPage extends React.Component<IWeatherPageProps, IWeatherPageState>{\n    constructor(props: Readonly<IWeatherPageProps>) {\n        super(props)\n\n        this.state = {\n            showLocationSearch: false,\n            showSettingsPage: false,\n        }\n    }\n\n    componentDidMount() {\n        // Find user position, select it as location, and fetch the forecast\n        this.props.fetchForecasts(this.props.selectedLocation);\n\n        this.props.findUserPosition(location => {\n            if (location.name !== this.props.selectedLocation.name) {\n                this.props.fetchForecasts(location);\n                this.props.selectUserLocation();\n            }\n        });\n\n        // React on system theme change\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n            const theme = e.matches ? \"dark\" : \"light\";\n            this.props.updateSystemTheme(theme);\n        });\n    }\n\n    private openLocationSearch() {\n        this.setState({\n            showLocationSearch: true,\n        })\n    }\n\n    private closeLocationSearch() {\n        this.setState({\n            showLocationSearch: false,\n        });\n    }\n\n    private openSettingsSearch() {\n        this.setState({\n            showSettingsPage: true,\n        })\n    }\n\n    private closeSettingsSearch() {\n        this.setState({\n            showSettingsPage: false,\n        });\n    }\n\n\n    render() {\n        return (\n            <React.Fragment>\n\n                <div className=\"weather-page\" style={{ height: 0, overflow: (this.state.showLocationSearch || this.state.showSettingsPage) ? 'hidden' : 'unset' }}>\n                    <div className=\"button-container\">\n                        <Button className=\"settings-button\" ghost icon={<SettingOutlined />} shape=\"circle\" size=\"large\" onClick={() => this.openSettingsSearch()} />\n                        <Button className=\"search-location-button\" ghost icon={<SearchOutlined />} shape=\"circle\" size=\"large\" onClick={() => this.openLocationSearch()} />\n                    </div>\n                    <Title className=\"title\" style={{ fontWeight: 1, fontSize: 50 }}>{this.props.selectedLocation?.name}</Title>\n\n                    {this.props.weatherIsLoading ?\n                        <Spin className=\"spin\" size=\"large\" />\n                        :\n                        <React.Fragment>\n                            <SunTimes />\n                            <WeatherTableList />\n                        </React.Fragment>\n                    }\n                </div>\n\n                {this.state.showLocationSearch &&\n                    <LocationSearch close={() => this.closeLocationSearch()} />\n                }\n\n                {this.state.showSettingsPage &&\n                    <SettingsPage close={() => this.closeSettingsSearch()} />\n                }\n\n            </React.Fragment>\n        );\n    }\n}\n\nfunction mapStateToProps(state: AppState) {\n    return {\n        selectedLocation: state.locationSearch.selectedLocation,\n        weatherIsLoading: state.forecasts.isLoading,\n    }\n}\n\nfunction mapDispatchToProps(dispatch: any) { // TODO: Fix any type\n    return {\n        findUserPosition: (onSuccess: any) => dispatch(requestUserPosition(onSuccess)),\n        selectUserLocation: () => dispatch(selectUserLocation()),\n        fetchForecasts: (location: ILocation) => dispatch(fetchForecasts(location)),\n        updateSystemTheme: (systemTheme: ThemeTypes) => dispatch(updateSystemTheme(systemTheme)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherPage);\n","import './App.css';\nimport WeatherPage from './components/pages/WeatherPage';\n\nfunction App() {\n  return (\n    <div id=\"app\">\n      <div id=\"page\">\n        <WeatherPage />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\n/**\n * Sets a new cookie. If a cookie with the given name already exists, it will be overwritten.\n * @param name Name of the cookie.\n * @param value Value of the cookie.\n * @param maxAge Seconds until the cookie will expire. Leave empty for session cookie.\n */\nexport function setCookie(name: string, value: string, maxAge?: number): void {\n    let expires;\n    if (maxAge) {\n        expires = \"; max-age=\" + maxAge;\n    } else {\n        expires = \"\";\n    }\n\n    document.cookie = name + \"=\" + encodeURI(value) + expires + \"; SameSite=Strict; path=/\";\n}\n\n/**\n * Returns the value of a cookie. If the cookie does not exist, null is returned.\n * @param name Name of the cookie.\n * @returns Value of the cookie or null.\n */\nexport function getCookie(name: string): string | null {\n    const cookies = document.cookie.split(';');\n\n    for (let i = 0; i < cookies.length; i++) {\n        const [cookieName, cookieValue] = cookies[i].trim().split('=');\n\n        if (cookieName === name) {\n            return decodeURI(cookieValue);\n        }\n    }\n\n    return null;\n}\n\n/**\n * Checks if a cookie exists.\n * @param name Name of the cookie.\n * @returns True if it exists, otherwise false.\n */\nexport function existsCookie(name: string): boolean {\n    const cookies = document.cookie.split(';');\n\n    for (let i = 0; i < cookies.length; i++) {\n        const cookieName = cookies[i].split('=')[0];\n\n        if (cookieName === name) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n/**\n * Deletes a cookie.\n * @param name Name of the cookie to delete.\n */\nexport function deleteCookie(name: string): void {\n    document.cookie = name + '=; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;';\n}\n","import { getCookie, setCookie } from \"../../helpers/cookies\";\nimport { ILocation } from \"../../location/types\";\nimport { GEOCODE_FAILURE, GEOCODE_START, GEOCODE_SUCCESS, ILocationSearchState, LOCATE_USER_FAILURE, LOCATE_USER_START, LOCATE_USER_SUCCESS, LocationActionTypes, SELECT_LOCATION, SELECT_USER_LOCATION } from \"./types\";\n\nconst initialState: ILocationSearchState = {\n    selectedLocation: getInitialLocation(),\n    geocodeResults: [],\n    geocodeIsLoading: false,\n    geocodeErrorMessage: '',\n    userLocation: undefined,\n    userLocationIsLoading: false,\n    userLocationErrorMessage: '',\n}\n\nexport function locationSearchReducer(state = initialState, action: LocationActionTypes): ILocationSearchState {\n    switch (action.type) {\n        case SELECT_LOCATION:\n            saveLocation(action.location);\n            return {\n                ...state,\n                selectedLocation: action.location,\n            };\n        case SELECT_USER_LOCATION:\n            if (!state.userLocation) {\n                return { ...state };\n            }\n\n            saveLocation(state.userLocation);\n\n            return {\n                ...state,\n                selectedLocation: state.userLocation,\n            }\n        case GEOCODE_START:\n            return {\n                ...state,\n                geocodeIsLoading: true\n            };\n        case GEOCODE_SUCCESS:\n            return {\n                ...state,\n                geocodeIsLoading: false,\n                geocodeResults: action.results,\n                geocodeErrorMessage: \"\",\n            }\n        case GEOCODE_FAILURE:\n            return {\n                ...state,\n                geocodeIsLoading: false,\n                geocodeResults: [],\n                geocodeErrorMessage: action.errorMessage\n            };\n        case LOCATE_USER_START:\n            return {\n                ...state,\n                userLocationIsLoading: true,\n            }\n        case LOCATE_USER_SUCCESS:\n            return {\n                ...state,\n                userLocationIsLoading: false,\n                userLocation: action.location,\n            }\n        case LOCATE_USER_FAILURE:\n            return {\n                ...state,\n                userLocationIsLoading: false,\n                userLocationErrorMessage: action.errorMessage,\n            }\n\n        default:\n            return state;\n    }\n}\n\nfunction saveLocation(location: ILocation): void {\n    const str = JSON.stringify(location);\n    setCookie(\"weather-location\", str, 60 * 60 * 24 * 365);\n}\n\nfunction getDefaultLocation(): ILocation {\n    return {\n        name: \"Stockholm\",\n        country: \"Sverige\",\n        lat: 59.33066,\n        long: 18.06855,\n        alt: 10,\n    }\n}\n\nfunction getInitialLocation(): ILocation {\n    const json = getCookie(\"weather-location\");\n\n    if (json !== null) {\n        try {\n            let location: ILocation = JSON.parse(json);\n            return location;\n        } catch {}\n    }\n\n    return getDefaultLocation();\n}\n\n","import { IWeatherState as IForecastState, ForecastActionTypes, FORECAST_FETCH_START, FORECAST_FETCH_SUCCESS, FORECAST_FETCH_FAILURE } from \"./types\";\nimport { createEmptyForecast } from \"../../weather/emptyForecast\";\n\nconst initialState: IForecastState = {\n    forecast: createEmptyForecast(undefined),\n    isLoading: true,\n    errorMessage: undefined,\n}\n\nexport function forecastReducer(state = initialState, action: ForecastActionTypes): IForecastState {\n    switch (action.type) {\n        case FORECAST_FETCH_START:\n            return {\n                ...state,\n                isLoading: true,\n            };\n\n        case FORECAST_FETCH_SUCCESS:\n            return {\n                ...state,\n                forecast: action.forecast,\n                isLoading: false,\n                errorMessage: undefined,\n            };\n\n        case FORECAST_FETCH_FAILURE:\n            return {\n                ...state,\n                isLoading: false,\n                errorMessage: action.errorMessage,\n            }\n\n        default:\n            return state;\n    }\n}\n","import { getCookie, setCookie } from \"../../helpers/cookies\";\nimport { ISettingsState, SettingsActionTypes, ThemeModeTypes, ThemeTypes, UPDATE_SETTING, UPDATE_SYSTEM_THEME, UPDATE_THEME_MODE } from \"./types\";\n\nconst THEME_MODE_COOKIE = \"theme-mode\";\n\nconst initialState: ISettingsState = {\n    themeMode: getCookie(THEME_MODE_COOKIE) as ThemeModeTypes || \"system\",\n    systemTheme: getInitialSystemTheme(),\n    theme: \"light\",\n    showGust: getCookie(\"show-gust\") === \"true\",\n    showMinMaxTemp: getCookie(\"show-min-max-temp\") === \"true\",\n}\n\nexport function settingsReducer(state = initialState, action: SettingsActionTypes): ISettingsState {\n    switch (action.type) {\n        case UPDATE_THEME_MODE:\n\n            let theme: ThemeTypes;\n            switch (action.themeMode) {\n                case \"light\":\n                    theme = \"light\";\n                    break;\n                case \"dark\":\n                    theme = \"dark\";\n                    break;\n                case \"system\":\n                    theme = state.systemTheme;\n            }\n\n            applyTheme(theme);\n            setCookie(THEME_MODE_COOKIE, action.themeMode, 365 * 24 * 60 * 60)\n\n            return {\n                ...state,\n                themeMode: action.themeMode,\n                theme: theme,\n            };\n\n        case UPDATE_SYSTEM_THEME:\n            if (state.themeMode === \"system\") {\n                applyTheme(action.systemTheme);\n            }\n\n            return {\n                ...state,\n                systemTheme: action.systemTheme,\n            }\n\n        case UPDATE_SETTING:\n            if (action.setting.showGust !== undefined) {\n                setCookie(\"show-gust\", action.setting.showGust.toString(), 365 * 24 * 60 * 60)\n            }\n            if (action.setting.showMinMaxTemp !== undefined) {\n                setCookie(\"show-min-max-temp\", action.setting.showMinMaxTemp.toString(), 365 * 24 * 60 * 60)\n            }\n\n            return {\n                ...state,\n                ...action.setting,\n            }\n\n        default:\n            return state;\n    }\n}\n\nfunction applyTheme(theme: ThemeTypes) {\n    const DARK_CLASS = \"dark\";\n\n    if (theme === \"dark\") {\n        document.documentElement.classList.add(DARK_CLASS);\n    } else {\n        document.documentElement.classList.remove(DARK_CLASS);\n    }\n}\n\nfunction getInitialSystemTheme(): ThemeTypes {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        return \"dark\";\n    } else {\n        return \"light\";\n    }\n}\n\nfunction setInitialTheme() {\n    let theme: ThemeTypes;\n    switch (initialState.themeMode) {\n        case \"light\":\n            theme = \"light\";\n            break;\n        case \"dark\":\n            theme = \"dark\";\n            break;\n        case \"system\":\n            theme = initialState.systemTheme;\n    }\n\n    applyTheme(theme);\n}\n\nsetInitialTheme();","import { createStore, compose, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from 'redux-thunk';\nimport { locationSearchReducer } from \"./locationSearch/reducers\";\nimport { forecastReducer } from \"./forecasts/reducers\";\nimport { settingsReducer } from \"./settings/reducers\";\nimport { isDev } from \"../helpers/devDetect\";\n\nconst rootReducer = combineReducers({\n    locationSearch: locationSearchReducer,\n    forecasts: forecastReducer,\n    settings: settingsReducer,\n});\n\ndeclare global {\n    interface Window {\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n}\n\nconst composeEnhancers = (isDev() && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nconst initialState = {}\n\nexport default createStore(\n    rootReducer,\n    initialState,\n    compose(\n        applyMiddleware(thunk),\n        composeEnhancers()\n    )\n);\n\nexport type AppState = ReturnType<typeof rootReducer>\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { register } from './serviceWorker';\nimport store from \"./store\";\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//unregister();\nregister();\n"],"sourceRoot":""}